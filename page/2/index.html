<!doctype html>
<html class="theme-next use-motion theme-next-next">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>




  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.1"/>





    <meta name="keywords" content="Hexo,next" />





    <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.1" />




  <title> Hey!Yahei~ </title>
</head>

<body>
  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">Hey!Yahei~</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>


  <ul id="menu" class="menu">
    
      
      <li class="menu-item menu-item-home">
        <a href="/">
          <i class="menu-item-icon icon-home"></i> <br />
          首頁
        </a>
      </li>
    
      
      <li class="menu-item menu-item-archives">
        <a href="/archives">
          <i class="menu-item-icon icon-archives"></i> <br />
          歸檔
        </a>
      </li>
    
      
      <li class="menu-item menu-item-tags">
        <a href="/tags">
          <i class="menu-item-icon icon-tags"></i> <br />
          標籤
        </a>
      </li>
    
  </ul>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
            
          

          <div id="posts" class="posts-expand">
            
  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/04/20/Hexo的使用/">
                Hexo的使用
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            發表於 2015-04-19
          
        </span>

        
          
        

        
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <p>Hexo是一个静态博客框架<br>可以方便地创建自己的博客<br>但是hexo的markdown解释引擎并不是很好用……有时候会出现一些奇怪的效果……  </p>
<h2 id="基本用法">基本用法</h2><p>i其实主要参考<a href="http://hexo.io/" target="_blank" rel="external">Hexo官方文档</a>即可<br>这里作简单归纳<br>安装就不说了，看文档    </p>
<ul>
<li>初始化：<br>进入要作为blog的文件夹<br><code>hexo init</code><br><code>npm install</code>     </li>
<li><p>文章（.md）：<br>放入文件夹<code>sources/_posts</code>中<br>文章开头可以写入信息，最基本的有<code>title</code>, <code>date</code> 和 <code>tags</code><br>内容要和冒号用空格隔开如：<code>title: aaaa</code><br>每个信息占用一行，<code>tags</code>可以有多个标签，如<code>tags: - aaa - bbbb</code>注意横线和标签内容也要用空格隔开，另外每个标签可以独占一行<br>写完信息后，在信息的后面应该加入三个横线<code>---</code>表示信息结束<br>总体大致如下：   </p>
<pre><code><span class="string">title:</span> TITLE
<span class="string">date:</span> <span class="number">2015</span><span class="regexp">/03/</span><span class="number">04</span>
<span class="string">tags:</span> 
- aaaaa
- bbbbb
</code></pre></li>
<li><p>生成静态页面<br><code>hexo g</code>    </p>
</li>
<li>本地查看<br><code>hexo s</code><br>输入网址<code>0.0.0.0:4000</code>查看     </li>
<li><p>部署到github</p>
<ul>
<li>在github上新建仓库<br>  仓库名必须是<code>USERNAME.github.io</code>USERNAME为github的用户名    </li>
<li>安装git-deploy插件：<code>npm install hexo-deployer-git --save</code>     </li>
<li><p>配置<code>_config.yml</code>文件：</p>
<pre><code><span class="string">deployer:</span>    
- <span class="string">type:</span> git
- <span class="string">repo:</span> <span class="string">http:</span><span class="comment">//github.com/USERNAME/USERNAME.github.io`    </span>
#USERNAME为github用户名     
</code></pre></li>
<li><p>执行部署命令<br>  <code>hexo d</code><br>  随后根据提示输入github帐号密码即可   </p>
<ul>
<li>部署git需要配置好git用户名和邮箱<br>  每次commit都会记录这两个信息<br>  <code>git config --global user.name &quot;用户名&quot;</code><br>  <code>git config --global user.email &quot;邮箱&quot;</code>   </li>
</ul>
</li>
</ul>
</li>
<li>更换主题<br>以next主题为例<br><code>clone https://github.com/iissnan/hexo-theme-next</code>到<code>themes/next</code>目录下<br>修改<code>_config.yml</code>文件，将<code>themes</code>修改为<code>next</code>即可   </li>
<li>相关配置信息<br>在文件<code>_config.yml</code>中，包括博客名，作者名，主题，部署方式等    </li>
<li>其他信息<br>参照hexo官方文档和相关主题的官方文档  </li>
</ul>
<h2 id="HTML、CSS、JS等资源的添加">HTML、CSS、JS等资源的添加</h2><ul>
<li>在<code>source</code>目录下新建目录，将资源放入其中即可调用<br>hexo将自动在网站根目录下生成相应的目录和文件  </li>
<li>HTML文件需要在文件内容头部加入<code>layout: FALSE</code>表示不对该文件使用布局<br>但是此时HTML不会作为文章直接显示出来，需要自己在<code>_post</code>目录下写md文章来跳转  <blockquote>
<p>比如我要把HTML格式的python的笔记挂上去<br>我在<code>source</code>目录下新建了目录<code>Note_for_Python</code>，把笔记内容放到该目录下<br>在<code>_post</code>写一个md文章作为笔记内容的目录，比如要跳转到目录下的<code>1.html</code>文件——<br><code>[1](/Note_for_Python/1.html)</code></p>
</blockquote>
</li>
</ul>

          
        
      </div>
    

    
      <div class="post-footer">
        

        

        
        
          <div class="post-eof"></div>
        
      </div>
    
  </div>


  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/04/06/fedora安装与配置/">
                fedora安装与配置
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            發表於 2015-04-05
          
        </span>

        
          
        

        
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <h2 id="fedora的安装">fedora的安装</h2><h3 id="烧制启动盘">烧制启动盘</h3><p>百度了一下<br>fedora的安装不同于ubuntu<br>据说直接烧进U盘是不能正常安装的<br>因为fedora采用了分轨镜像     </p>
<ol>
<li>官网提供了烧进U盘的专用工具，但是在我的电脑上并不能成功安装，连界面都进不去  </li>
<li>在linux下用dd命令烧进U盘（注意<code>of=/dev/sdb</code>而不是<code>of=/dev/sdb1</code>）<br>windows下也可以找到dd的程序，据说跟linux差别不大      </li>
<li>但是，在一些帖子上看到有的人用Utraiso烧进U盘也能用？但在我的电脑上并不可行   </li>
</ol>
<p>最终采用了第2种方法进入了安装的界面</p>
<h3 id="UEFI？">UEFI？</h3><p>分区的时候安装程序死活不让我过，提示——<br><code>For a UEFI installation you must include EFI system partition on a GPT-formatted disk, mounted a /boot/efi</code><br>我试着去分出一个挂载在<code>/boot/efi</code>上的分区，但是并不能解决问题<br>最后查阅资料后，改成传统的legacy模式进入安装程序就没有问题啦     </p>
<h2 id="fedora的基本配置">fedora的基本配置</h2><h3 id="触控板">触控板</h3><p>默认的触控板上滑动只能移动鼠标，单击必须按下按钮，极不舒服<br>设置，在<code>Settings</code>的<code>Mouse&amp;Touchpad</code>把<code>Tap to click</code>钩上即可    </p>
<h3 id="Terminal的快捷键">Terminal的快捷键</h3><p>默认终端是没有快捷键的，不舒服啊！得把快捷键加上<br>在<code>Settings</code>的<code>Keyboard</code>下<code>Shortcuts</code>选项卡的<code>Custom Shortcuts</code>中加入自定义快捷键，<code>Name</code>随便填，<code>Command</code>设置为<code>/usr/bin/gnome-terminal</code>，并且设置所要的快捷键，一般是<code>Ctrl</code>+<code>Alt</code>+<code>T</code>咯   </p>
<h3 id="vim的markdown语法高亮插件">vim的markdown语法高亮插件</h3><p>据说，fedora下的sublime是写不了中文的耶？！？！郁闷了……<br>那就用vim吧～～但是要手动下载markdon语法高亮插件<br>嗯……这个插件还是蛮不错的！<br>在Home目录下新建名为<code>.vim</code>的文件夹，将插件clone到本地即可<br><code>https://github.com/plasticboy/vim-markdown</code>     </p>
<p><em>安装fedora的时候不小心把以前的md文件弄丢了，索性曾经转换成html发布了出去，只要把html再转回markdon即可</em><br><a href="http://www.atool.org/html2markdown.php" target="_blank" rel="external">Html转换为MarkDown样式代码</a><br>这个工具还是蛮不错的，转换的结果还行～～    </p>
<h3 id="shadowsocks安装与配置">shadowsocks安装与配置</h3><p>参考资料：<br><a href="https://github.com/shadowsocks/shadowsocks" target="_blank" rel="external">Shadowsocks|Github</a><br><a href="http://ttt.tt/150/" target="_blank" rel="external">科学上网利器 Shadowsocks 使用方法</a>         </p>
<h4 id="安装">安装</h4><p><code>yum install python-pip</code><br><code>pip install shadowsocks</code></p>
<h4 id="配置">配置</h4><h5 id="新建配置文件和相应目录">新建配置文件和相应目录</h5><p><code>/etc/shadowsocks/config.json</code><br>文件内容：    </p>
<pre><code>{
  "<span class="attribute">server</span>":<span class="value"><span class="string">"服务器地址"</span></span>,
  "<span class="attribute">server_port</span>":<span class="value">服务器端口</span>,
  "<span class="attribute">local_port</span>":<span class="value"><span class="number">1080</span></span>,
  "<span class="attribute">password</span>":<span class="value"><span class="string">"密码"</span></span>,
  "<span class="attribute">timeout</span>":<span class="value"><span class="number">60</span></span>,
  "<span class="attribute">method</span>":<span class="value"><span class="string">"aes-256-cfb"</span>
</span>}
</code></pre><h4 id="启动">启动</h4><p>前台启动：<code>sslocal -c /etc/shadowsocks/config.json</code><br>后台启动：在<code>/etc/shadowsocks/</code>目录下执行<code>nohup sslocal &gt; log &amp;</code>      </p>
<h5 id="添加服务到systemd">添加服务到systemd</h5><p>安装完shadowsocks后会发现，systemd中并没有sslocal、ssserver、shadowsocks之类的服务，那么需要我们手动添加进去<br>= =不过我不会玩systemd哦，只好疯狂了翻资料，然后自己写了个low low的service凑活着用吧，等有空恶补一下systemd的知识再来进一步完善<br>首先，systemd的服务配置文件是在<code>/etc/systemd/system/</code>目录下<br>文件名即为<code>服务名.service</code>，比如我新建的一个<code>sslocal.service</code><br>文件内容我是这么写哒——  </p>
<pre><code><span class="title">[Service]</span>
<span class="setting">Type=<span class="value">simple</span></span>
<span class="setting">ExecStart=<span class="value">/usr/bin/sslocal -c /etc/shadowsocks/config.json</span></span>

<span class="title">[Intsall]</span>
<span class="setting">WantedBy=<span class="value">multi-user.target  </span></span>
</code></pre><p>Service字段呢指明了类型为简单，然后执行一条命令<br>只要有这条字段我们就可以<code>systemctl start sslocal</code>啦<br>但是一执行<code>enable</code>他就会报错缺少Install字段<br>额……还不是很理解这个字段干嘛的，看到各种资料给的例子上都写上这么一句，就直接拔了下来，也能成功地执行<code>systemctl enable sslocal</code>来使这个服务开机自启啦<br>这个配置写的lowlow的，而且不知道会不会有什么错误的地方……<br>等我好好学一下systemd的知识再来完善吧……=。=  </p>
<h4 id="firefox-&gt;foxyproxy插件">firefox-&gt;foxyproxy插件</h4><h5 id="添加代理服务器">添加代理服务器</h5><p>服务器ip设置为127.0.0.1，端口1080<br>选择<code>SOCKS proxy</code>-&gt;<code>SOCKS v5</code>     </p>
<h5 id="添加gwflist规则">添加gwflist规则</h5><p>让插件判断哪些网址需要代理，哪些不需要<br><code>Pattern Subscriptions</code>选项卡，添加规则订阅<br>URL: <code>https://autoproxy-gfwlist.googlecode.com/svn/trunk/gfwlist.txt</code><br>添加刚才加入的代理<code>Add Proxy</code><br><code>Refesh Rate: 600</code><br><code>Format: AutoProxy</code><br><code>ObFuscation: Base64</code><br><strong>这个是谷歌的一个规则，所以添加时必须打开代理服务器，否则将获取不到</strong><br>把<code>Select Mode</code>修改为<code>Use proxies based on their pre-defined pattens and priorities</code>即可   </p>
<h3 id="apache+php+mysql安装与配置">apache+php+mysql安装与配置</h3><p>参考资料：<a href="http://my.oschina.net/matrixchan/blog/367591" target="_blank" rel="external">在fedora21 上的php+mysql+apache环境搭建</a></p>
<h4 id="apache">apache</h4><p>安装：<code>yum install httpd</code><br>控制：<br><code>systemctl [start | stop | restart | reload] httpd.service</code><br>或 <code>service httpd [start | stop |restart | reload]</code><br>开机自启：<code>systemctl enable httpd.service</code>    </p>
<h4 id="php">php</h4><p>安装：<code>yum install php php-mysql</code><br>重启apache：<code>systemctl restart httpd.service</code>    </p>
<h4 id="mysql">mysql</h4><p>安装：<code>yum install mariadb mariadb-server</code><br>控制：与apache类似，服务名为“mariadb”<br>开机自启：与apache类似<br>配置向导：<code>mysql_secure_installation</code>主要是设置root用户密码，其他设置一般一路回车即可  </p>
<h3 id="sudoers">sudoers</h3><p>参考资料：<a href="http://www.linuxidc.com/Linux/2014-06/103424.htm" target="_blank" rel="external">Fedora 20下解决用户不在 sudoers 文件中的方法</a><br>fedora默认的一般用户并不是sudoer<br>也就是不能临时使用root权限来执行命令<br>但是我们可以手动加入到sudoers中<br>用root打开文件<code>/etc/sudoers</code><br>在最下面加入一行<code>USERNAME ALL=(ALL) ALL</code>即可<br><em>此处的USERNAME为要加入sudoers的用户名</em></p>
<h3 id="sublime的安装与中文支持">sublime的安装与中文支持</h3><h4 id="fcitx安装">fcitx安装</h4><p>参考资料：<a href="http://www.tuicool.com/articles/MfEzUnY" target="_blank" rel="external">Fedora20安装fcitx输入法</a><br><code>yum install fcitx fcitx-pinyin fcitx-configtool im-chooser</code><br>然后用im-chooser更换输入法为fcitx<br>如果报错，则执行<code>gsettings set org.gnome.settings-daemon.plugins.keyboard active false</code><br>如果实在不行，尝试删除ibus，<code>yum install remove ibus</code>  </p>
<h4 id="sublime_text安装">sublime text安装</h4><p>参考资料：<a href="http://www.tuicool.com/articles/vEB7Nry" target="_blank" rel="external">Fedora 20 sublime text 安装</a><br>在官方下载包，解压后复制到<code>/opt/sublime_text/</code>目录下<br>创建<code>sublime</code>命令：  </p>
<pre><code>touch <span class="regexp">/usr/</span>bin/sublime
chmod <span class="number">755</span> <span class="regexp">/usr/</span>bin/sublime
vim <span class="regexp">/usr/</span>bin/sublime
</code></pre><p>贴入一下代码：（假设创建sublime命令）  </p>
<pre><code><span class="shebang">#!/bin/sh</span>
<span class="built_in">export</span> SUBLIME_HOME=/opt/sublime_text
<span class="variable">$SUBLIME_HOME</span>/sublime_text $*
</code></pre><h4 id="中文输入支持">中文输入支持</h4><p>参考资料：<a href="http://blog.mkidding.com/fedora20%E4%BD%BF%E7%94%A8fcitx%E5%9C%A8sublime_text%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5/" target="_blank" rel="external">FEDORA20使用FCITX在SUBLIME_TEXT中文输入</a><br>1、新建名为<code>sublime_text_fcitx.c</code>文件，贴入以下代码：  </p>
<pre><code><span class="comment">/*

sublime-imfix.c

Use LD_PRELOAD to interpose some function to fix sublime input method support for linux.

By Cjacker Huang &lt;jianzhong.huang at i-soft.com.cn&gt;

gcc -shared -o libsublime-imfix.so sublime_imfix.c `pkg-config –libs –cflags gtk+-2.0` -fPIC

LD_PRELOAD=./libsublime-imfix.so sublime_text

*/</span>

<span class="variable">#include</span> <span class="subst">&lt;</span>gtk/gtk<span class="built_in">.</span>h<span class="subst">&gt;</span>

<span class="variable">#include</span> <span class="subst">&lt;</span>gdk/gdkx<span class="built_in">.</span>h<span class="subst">&gt;</span>

typedef GdkSegment GdkRegionBox;

struct _GdkRegion

{

long size;

long numRects;

GdkRegionBox <span class="subst">*</span>rects;

GdkRegionBox extents;

};

GtkIMContext <span class="subst">*</span>local_context;

<span class="literal">void</span>

gdk_region_get_clipbox (const GdkRegion <span class="subst">*</span>region,

GdkRectangle <span class="subst">*</span>rectangle)

{

g_return_if_fail (region <span class="subst">!=</span> <span class="built_in">NULL</span>);

g_return_if_fail (rectangle <span class="subst">!=</span> <span class="built_in">NULL</span>);

rectangle<span class="subst">-&gt;</span>x <span class="subst">=</span> region<span class="subst">-&gt;</span>extents<span class="built_in">.</span>x1;

rectangle<span class="subst">-&gt;</span>y <span class="subst">=</span> region<span class="subst">-&gt;</span>extents<span class="built_in">.</span>y1;

rectangle<span class="subst">-&gt;</span>width <span class="subst">=</span> region<span class="subst">-&gt;</span>extents<span class="built_in">.</span>x2 – region<span class="subst">-&gt;</span>extents<span class="built_in">.</span>x1;

rectangle<span class="subst">-&gt;</span>height <span class="subst">=</span> region<span class="subst">-&gt;</span>extents<span class="built_in">.</span>y2 – region<span class="subst">-&gt;</span>extents<span class="built_in">.</span>y1;

GdkRectangle rect;

rect<span class="built_in">.</span>x <span class="subst">=</span> rectangle<span class="subst">-&gt;</span>x;

rect<span class="built_in">.</span>y <span class="subst">=</span> rectangle<span class="subst">-&gt;</span>y;

rect<span class="built_in">.</span>width <span class="subst">=</span> <span class="number">0</span>;

rect<span class="built_in">.</span>height <span class="subst">=</span> rectangle<span class="subst">-&gt;</span>height;

<span class="comment">//The caret width is 2;</span>

<span class="comment">//Maybe sometimes we will make a mistake, but for most of the time, it should be the caret.</span>

<span class="keyword">if</span>(rectangle<span class="subst">-&gt;</span>width <span class="subst">==</span> <span class="number">2</span> <span class="subst">&amp;&amp;</span> GTK_IS_IM_CONTEXT(local_context)) {

gtk_im_context_set_cursor_location(local_context, rectangle);

}

}

<span class="comment">//this is needed, for example, if you input something in file dialog and return back the edit area</span>

<span class="comment">//context will lost, so here we set it again.</span>

static GdkFilterReturn event_filter (GdkXEvent <span class="subst">*</span>xevent, GdkEvent <span class="subst">*</span>event, gpointer im_context)

{

XEvent <span class="subst">*</span>xev <span class="subst">=</span> (XEvent <span class="subst">*</span>)xevent;

<span class="keyword">if</span>(xev<span class="subst">-&gt;</span><span class="keyword">type</span> <span class="subst">==</span> KeyRelease <span class="subst">&amp;&amp;</span> GTK_IS_IM_CONTEXT(im_context)) {

GdkWindow <span class="subst">*</span> win <span class="subst">=</span> g_object_get_data(G_OBJECT(im_context),”window”);

<span class="keyword">if</span>(GDK_IS_WINDOW(win))

gtk_im_context_set_client_window(im_context, win);

}

<span class="keyword">return</span> GDK_FILTER_CONTINUE;

}

<span class="literal">void</span> gtk_im_context_set_client_window (GtkIMContext <span class="subst">*</span>context,

GdkWindow <span class="subst">*</span>window)

{

GtkIMContextClass <span class="subst">*</span>klass;

g_return_if_fail (GTK_IS_IM_CONTEXT (context));

klass <span class="subst">=</span> GTK_IM_CONTEXT_GET_CLASS (context);

<span class="keyword">if</span> (klass<span class="subst">-&gt;</span>set_client_window)

klass<span class="subst">-&gt;</span>set_client_window (context, window);

<span class="keyword">if</span>(<span class="subst">!</span>GDK_IS_WINDOW (window))

<span class="keyword">return</span>;

g_object_set_data(G_OBJECT(context),”window”,window);

int width <span class="subst">=</span> gdk_window_get_width(window);

int height <span class="subst">=</span> gdk_window_get_height(window);

<span class="keyword">if</span>(width <span class="subst">!=</span> <span class="number">0</span> <span class="subst">&amp;&amp;</span> height <span class="subst">!=</span><span class="number">0</span>) {

gtk_im_context_focus_in(context);

local_context <span class="subst">=</span> context;

}

gdk_window_add_filter (window, event_filter, context);

}
</code></pre><p><em>直接用vim贴入有可能会莫名其妙自动注释掉一些代码，要注意检查一下</em><br>2、编译为动态链接库<br>所需工具：gtk2-devel、glib2-devel<br>执行命令：  </p>
<pre><code>gcc -shared -o sublime_text_fcitx<span class="class">.so</span> sublime_text_fcitx<span class="class">.c</span>  `pkg-config –libs –cflags gtk+-<span class="number">2.0</span>` -fPIC  
</code></pre><p>将该so文件复制到<code>/opt/sublime_text</code>目录下  </p>
<p>3、设置LD_PRELOAD并启动sublime<br><code>LD_PRELOAD=./libsublime-imfix.so sublime_text</code><br>但是每次都这样启动太麻烦了，<br>网上有的用sh脚本启动，其实也挺麻烦的<br>事实上直接修改<code>/usr/bin/sublime</code>的内容即可  </p>
<p>4、修改<code>/usr/bin/sublime</code>内容<br>把LD_PRELOAD的设置添加进去，最终的配置如下：  </p>
<pre><code><span class="shebang">#!/bin/sh</span>
<span class="built_in">export</span> SUBLIME_HOME=/opt/sublime_text_3
LD_LIB=<span class="variable">$SUBLIME_HOME</span>/libsublime-imfix.so
LD_PRELOAD=<span class="variable">$LD_LIB</span> <span class="variable">$SUBLIME_HOME</span>/sublime_text $*
</code></pre>
          
        
      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/fedora/">
                #fedora
              </a>
            
              <a href="/tags/linux/">
                #linux
              </a>
            
              <a href="/tags/markdown/">
                #markdown
              </a>
            
              <a href="/tags/shadowsocks/">
                #shadowsocks
              </a>
            
          </div>
        

        

        
        
          <div class="post-eof"></div>
        
      </div>
    
  </div>


  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/03/24/春纳后端/">
                俱乐部春纳网页后端小结
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            發表於 2015-03-23
          
        </span>

        
          
        

        
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <h2 id="ubuntu下开发环境的搭建">ubuntu下开发环境的搭建</h2><h3 id="php_+_apache_+_mysql_安装">php + apache + mysql 安装</h3><p><code>sudo apt-get install apache2</code><br><code>sudo apt-get install libapache2-mod-php5 php5</code><br><code>sudo apt-get install mysql-server mysql-client</code><br>参考资料：<a href="http://www.cnblogs.com/lynch_world/archive/2012/01/06/2314717.html" target="_blank" rel="external">ubuntu下安装Apache+PHP+Mysql</a></p>
<h3 id="apache的使用">apache的使用</h3><p>把文件放到<code>/var/www/html</code>目录下，通过<code>localhost</code>访问<br>一般情况下apache是自动打开的，手动开启关闭重启的命令如下：<br><code>apachectl -k start</code><br><code>apachectl -k stop</code><br><code>apachectl -k restart</code>       </p>
<h3 id="mysql的使用">mysql的使用</h3><h4 id="登录前">登录前</h4><p>登录：<code>mysql [-h 服务器] -u 用户名 -p</code>然后按照提示输入密码<br>修改密码：<code>mysqladmin -u 用户名 password &quot;新密码&quot;</code>然后按照提示输入原密码      </p>
<h4 id="登录后">登录后</h4><h5 id="用户相关操作、创建数据库（root）">用户相关操作、创建数据库（root）</h5><p>创建用户：<code>insert into mysql.user(Host, User, Password) values(&#39;主机&#39;, &#39;用户名&#39;, password(&#39;密码&#39;));</code><br><em>本地访问的主机是localhost， 如果要远程通过phpmyadmin管理数据库，那么主机是%</em><br>创建数据库：<code>creat database 数据库名;</code><br>用户授权：<code>grant [select, update, insert, delect, all] on 数据库.表 to &#39;用户名&#39;@‘主机名’ identified by &quot;密码&quot;;</code><br>如果是所有数据库或所有表，用*代替<br><em>授权后刷新系统权限表：<code>flush privileges;</code></em><br>删除用户：<code>delect from user where User=&#39;用户名&#39; and Host=&#39;主机名&#39;;</code>;<br>删除后刷新系统权限表：<code>flush privileges;</code><br>删除数据库：<code>drop database 数据库名;</code><br>修改用户密码：<code>update mysql.user set password=password(&#39;新密码&#39;) where User=&#39;用户名&#39; and Host=&#39;主机名&#39;;</code><br>修改后刷新系统权限表：<code>flush privileges;</code>       </p>
<h5 id="切换数据库：">切换数据库：</h5><p><code>use 数据库名;</code>         </p>
<h5 id="显示数据：">显示数据：</h5><p><code>select 列 from 表名;</code><br>若显示全部内容，列使用*      </p>
<h5 id="查看数据库：">查看数据库：</h5><p><code>show databases;</code><br><strong>数据库中的charset尽量使用utf8,而不是gbk，防止暴露服务器信息</strong><br>参考资料：<a href="http://www.2cto.com/Article/201310/247718.html" target="_blank" rel="external">GBK字符编码（字符集）缺陷导致web安全漏洞</a>【虽然看不太懂】           </p>
<h3 id="phpmyadmin的使用">phpmyadmin的使用</h3><h4 id="安装：">安装：</h4><p>从官网下载后解压到<code>/var/www/html</code>，通过<code>localhost</code>访问      </p>
<h4 id="配置：">配置：</h4><p>如果本地访问，直接使用就好<br>如果要连接到远程服务器的mysql，那么打开目录下的<code>libraries/config.defaut.php</code>文件，找到<code>$cfg[&#39;Servers&#39;][$i][&#39;host&#39;]</code>将值改为相应的服务器     </p>
<h3 id="mysql备份">mysql备份</h3><h4 id="mysqldump命令">mysqldump命令</h4><p><code>mysqldump -h 主机 -u 用户名 -p 密码 数据库名</code></p>
<h4 id="备份脚本（-sh）">备份脚本（.sh）</h4><pre><code>USER=<span class="string">"username"</span>
PASSWORD=<span class="string">"password"</span>
DATABASE=<span class="string">"datebase"</span>
HOST=<span class="string">"localhost"</span>
OPTIONS=<span class="string">"-h<span class="variable">$HOST</span> -u<span class="variable">$USER</span> -p<span class="variable">$PASSWORD</span> <span class="variable">$DATABASE</span>"</span>

DATE=`date <span class="string">'+%Y%m%d-%H%M'</span>`
BACKUP_DIR=/home/zk/datebase/
DUMPFILE=<span class="variable">$DATE</span>.sql

<span class="built_in">cd</span> <span class="variable">$BACKUP_DIR</span>
mysqldump <span class="variable">$OPTIONS</span> &gt; <span class="variable">$DUMPFILE</span>
</code></pre><p>该脚本将<code>datebase</code>数据库的内容备份到<code>/home/zk/datebase/</code>目录下，文件以备份时间命名</p>
<h4 id="定时备份crontab">定时备份crontab</h4><p>参考资料：<a href="http://www.jb51.net/LINUXjishu/19905.html" target="_blank" rel="external">Linux crontab定时执行任务 命令格式与详细例子</a><br>基本格式：分 时 日 月 周 命令<br>每一行为一个任务，定时执行命令<br>可以用星号(*)表示任意值<br>crontab -e：直接编辑时程表（vi）<br>crontab -r：删除当前时程表<br>crontab -l：列出当前时程表<br>crontab FILE：使用FILE文件的内容替代当前时程表  </p>
<h2 id="CI框架">CI框架</h2><h3 id="安装：-1">安装：</h3><p>从官网下载后解压到<code>/var/www/html</code>目录下即可<br>通过<code>localhost/...../index.php/..控制器../..方法../..参数..</code>访问<br>相关子目录：            </p>
<blockquote>
<p><code>application</code>：用户主要目录（主要是views, controllers, models, config）<br><code>system</code>：框架的系统目录，一般不用管<br><code>user_guide</code>：用户手册，英文版，不需要可以删除         </p>
</blockquote>
<h3 id="设计模式：MVC（Model_-_View_-_Controller）">设计模式：MVC（Model - View - Controller）</h3><h4 id="模型（Model）：处理页面和数据库的交互">模型（Model）：处理页面和数据库的交互</h4><h5 id="数据库配置：-/application/config/database-php文件">数据库配置：<code>.../application/config/database.php</code>文件</h5><p><code>$db[&#39;default&#39;][&#39;hostname&#39;]</code>：主机名<br><code>$db[&#39;default&#39;][&#39;username&#39;]</code>：mysql用户名<br><code>$db[&#39;default&#39;][&#39;password&#39;]</code>：mysql密码<br><code>$db[&#39;default&#39;][&#39;database&#39;]</code>：所用的数据库     </p>
<h5 id="形式">形式</h5><pre><code><span class="php"><span class="preprocessor">&lt;?</span> php          
    <span class="class"><span class="keyword">Class</span> 模型名（首字母大写，与文件名相同，单文件名全小写） <span class="keyword">extends</span> <span class="title">CI_model</span>    
    </span>{        
        <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> 方法名<span class="params">()</span>        
        </span>{            
            ...........        
        }    
    }</span>
</code></pre><p>特殊方法：__construct()，构建函数，当模型被调用时，首先自动调用这个函数<br>通常要在构建函数中载入数据库<code>$this-&gt;load-&gt;database();</code>      </p>
<h5 id="获取数据库内容">获取数据库内容</h5><h6 id="获取整张表">获取整张表</h6><p><code>$query=$this-&gt;db-&gt;get(&#39;表名&#39;);</code>返回Active Record类并且赋给变量$query<br><code>$query-&gt;result_array();</code>调用类的result_array()方法，返回一个包含各行内容的字典，可以在视图上通过foreach分别取出每一行<br><em>对于每一行，是一个以字段名为索引的字典</em></p>
<h6 id="获取某一行的内容">获取某一行的内容</h6><p><code>$query=$this-&gt;db-&gt;get_where(&#39;表名&#39;, 筛选条件);</code>筛选条件是一个{‘字段名’=&gt;值}的数组<br><code>$query-&gt;row_array();</code>调用类的row_array()方法，返回一个包含匹配行的内容的字典        </p>
<h5 id="向数据库写入内容">向数据库写入内容</h5><p><code>$this-&gt;input-&amp;gt;post(&#39;提交内容的name&#39;);</code>返回表当内对应name的value<br><code>$this-&gt;db-&gt;insert(&#39;表名&#39;, 内容)</code>写入数据库，内容是一个字典       </p>
<h4 id="视图（View）：要展示的静态页面">视图（View）：要展示的静态页面</h4><p>可以把一个页面写成多个文件，显示时再拼接起来<br><em>比如可以创建一个templates文件夹，里面放一些各个网页通用头和尾</em><br>必须是php文件      </p>
<h5 id="html_-&gt;_php改写">html -&gt; php改写</h5><p>连接的js和css等文件，还有图片等资源不能放在application目录下<br>需要在根目录下创建一个文件夹，把这些资源放进去<br>主要是修改连接的js和csss等文件、图片等资源的文件的地址          </p>
<ul>
<li>可以借助url的辅助函数<br>需要在方法中加入<code>$this-&gt;load-&gt;helper(&#39;url&#39;);</code>载入辅助函数<br>把根目录或者资源的目录写入<code>..../application/config/config.php</code>的<code>$config[&#39;base_url&#39;]</code><br>利用<code>base_url()</code>函数<br><em>如config中的base_url设置为localhost/join/resources</em><br><em>那么，base_url(‘image/background.jpg’)就会返回字符串loacalhost/join/resources/image/background.jpg</em>          </li>
</ul>
<p>js，css文件内不能写php语句，如果需要使用这个函数，可以把内容直接复制到页面上，而不通过连接<br><strong>注意：改写的时候要注意不要不小心把原文件上的括号、分号给删掉了</strong>       </p>
<h4 id="控制器（Controller）：包含各种方法">控制器（Controller）：包含各种方法</h4><h5 id="形式-1">形式</h5><pre><code>&lt;? php        
    <span class="class"><span class="keyword">class</span> <span class="title">控制器名（首字母大写，与文件名相同，但文件名全小写）</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">CI_controller</span>    
</span>    {        
        public function 方法名()        
        {            
            ........        
        }    
    }
</code></pre><p>特殊方法：<strong>construct()，构建函数<br>通常需要加入`parents::</strong>construct();<code>，……并不知道有什么卵用，照搬=。=</code>$this-&gt;load-&gt;model(‘模型名’);<code>载入模型</code>$this-&gt;load-&gt;view(‘视图文件名’, $data);`：不是只显示这个视图的内容，而是把这个文件的 内容写到当前方法的页面上，并且把变量$data内的数据传递到这个视图文件上           </p>
<h5 id="传递的数据在视图文件上的访问">传递的数据在视图文件上的访问</h5><p>如<code>$data[&#39;news&#39;][&#39;title&#39;]</code><br>在视图上通过<code>$news[&#39;title]</code>来访问这个变量           </p>
<h5 id="调用模型上的方法：">调用模型上的方法：</h5><p><code>$this-&gt;模型名-&gt;方法名；</code>        </p>
<h5 id="表单数据的传递">表单数据的传递</h5><p>controllers要有一个方法来接受表单的数据<br>form的action应指向这个方法<br>这个方法用来处理表单传递的数据，并且调用模型的方法与数据库进行交互           </p>
<h2 id="提交到服务器">提交到服务器</h2><h3 id="登录：">登录：</h3><p><code>ssh 用户名@服务器</code>，然后输入密码        </p>
<h3 id="服务器与本地文件的传输:">服务器与本地文件的传输:</h3><p>scp命令，用法与cp命令相似<br>比如上传本地<code>~/home.php</code>到服务器的主目录下:<br><code>scp ~/home.php 用户名@服务器:home.php</code></p>
<h3 id="网站的目录：">网站的目录：</h3><p>一般来说，<br>对于nginx，放在<code>/usr/share/nginx/html/</code>目录下<br>对于apache，放在<code>/var/www/html/</code>目录下         </p>
<p>nginx的配置挺复杂的，还有待以后进一步的学习</p>
<h3 id="关闭ci框架的debug模式">关闭ci框架的debug模式</h3><p><strong>网站挂上去后最好关闭debug模式（防止程序信息暴露在前台）</strong><br><code>..../application/config/database.php</code>中的<code>$db[&#39;default&#39;][&#39;db_debug&#39;]</code>修改为FALSE即可<br>i</p>
<h2 id="github">github</h2><p>其实一开始写后端的时候并没有git= =时间紧啊，没时间给我慢慢玩<br>不过网站挂上去，在写查重和改写雨停的优化版的时候就玩了玩git          </p>
<h3 id="github在Windows上有客户端，直接使用就好">github在Windows上有客户端，直接使用就好</h3><h3 id="在linux上需要用git">在linux上需要用git</h3><h4 id="安装git：">安装git：</h4><p><code>sudo apt-get install git</code></p>
<h4 id="配置git：">配置git：</h4><h5 id="本地创建ssh_key：">本地创建ssh key：</h5><p><code>ssh-keygen -t rsa -C &quot;邮箱&quot;</code>，会提示确认路径和密码，一路回车默认即可          </p>
<h5 id="在github中添加ssh_key：">在github中添加ssh key：</h5><p>进入Account Settings，选择SSH Key，Add SSH Key，title随便填，key复制粘贴文件<code>~/.ssh/id_rsa.pub</code>的全部内容</p>
<h5 id="设置username和email">设置username和email</h5><p>每次commit都会记录这两个信息<br><code>git config --global user.name &quot;用户名&quot;</code><br><code>git config --global user.email &quot;邮箱&quot;</code>           </p>
<h4 id="设置要git的目录">设置要git的目录</h4><p>进入要git的目录<br>初始化：<code>git init</code><br>添加远程地址：<code>git remote add origin git@github.com:github用户名/远程仓库名.git</code>            </p>
<h5 id="使用（简单的git命令）">使用（简单的git命令）</h5><p><code>git clone &lt;ADDRESS&gt;</code>：克隆代码库，可以是本地代码库，也可以是远程代码库（USERNAME@HOST:PATH）<br><code>git add &lt;-i&gt; &lt;FILE&gt; ....</code>：【-i，交互式】添加文件到代码库中<br><code>git rm &lt;FILE&gt;</code>：将文件移出代码库<br><code>git commit -m &lt;MESSAGE&gt;</code>：提交更改，将修改的文件提交到缓冲区<br><code>git push &lt;ORIGIN&gt; &lt;BRANCH&gt;</code>：推送代码库到远程代码库<br><code>git pull</code>：从远程同步代码库到本地并合并<br><code>git branch</code>：查看当前分支<br><code>git branch &lt;BRANCH&gt;</code>：创建分支（主分支为Master）<br><code>git branch -d &lt;BRANCH&gt;</code>：删除分支<br><code>git checkout &lt;BRANCH&gt;</code>：切换到指定分支<br><code>git checkout -- &lt;FILE&gt;</code>：从缓冲区替换本地改动<br><code>git log</code>：查看提交的历史记录<br><code>git status</code>：显示当前的修改状态<br><code>git reset &lt;LOG&gt;</code>：恢复到历史版本<br>参考资料：<br><a href="http://www.bootcss.com/p/git-guide/" target="_blank" rel="external">git - 简易指南</a><br><a href="http://www.eoeandroid.com/thread-274556-1-1.html" target="_blank" rel="external">【Github教程】史上最全github使用方法：github入门到精通</a></p>
<h2 id="附：ubuntu下的sublime_text">附：ubuntu下的sublime text</h2><h3 id="安装：-2">安装：</h3><p><code>sudo apt-get install sublime-text</code></p>
<h3 id="中文支持">中文支持</h3><p>参考资料：<a href="http://jingyan.baidu.com/article/6fb756eca7af6c241858fbf2.html" target="_blank" rel="external">解决Ubuntu下Sublime Text 2无法输入中文的方法</a></p>
<h3 id="Markdown支持">Markdown支持</h3><p>参考资料：<a href="http://www.jianshu.com/p/378338f10263" target="_blank" rel="external">sublime text 2 下的Markdown写作</a><br>但是语法高亮的设置我一直找不到,最后是在<code>Package Control: install Pakage</code>中直接安装MarkdownEditing，但是语法高亮效果不太满意,不知道有没有更好的解决方法<br>注：语法高亮在markdown preview的设置文件中，而且需要下载主题才能使用。<br>另外可以在github上下载chrome的markdown preview plus插件，这样就能在浏览器上直接打开md文件啦（2015/04/28）</p>
<h2 id="最后">最后</h2><p>雨停的前端做的好赞！！！诶，不会美工的小码农真是不能比啊╮(╯▽╰)╭</p>
<p>=  =学习CI，用服务器的时候遇到好多逗比的问题去请教蛋蛋和六神       </p>
<p>感谢蛋蛋和六神的指导嘿嘿～～～                   </p>
<p>CI官网的教程写的有点晦涩，不太好懂，这里只是个人在使用中自己的理解，可能会有一些错误，欢迎指出～        </p>
<p>不过网站还不会挂咯，找个时间得学学怎么挂网站～～</p>

          
        
      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/CI框架/">
                #CI框架
              </a>
            
              <a href="/tags/git/">
                #git
              </a>
            
              <a href="/tags/后端/">
                #后端
              </a>
            
          </div>
        

        

        
        
          <div class="post-eof"></div>
        
      </div>
    
  </div>


  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/06/修了三天半电脑的总结/">
                居然……还我数据？！？！
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            發表於 2015-02-05
          
        </span>

        
          
        

        
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <p>在学校的时候把windows还原了一遍，导致linux进不去了，orz<br>回来之后重装linux，结果不小心操作不当，把硬盘格式化了！！<br>后来发现硬盘又出了点问题，哎烦，查了好多东西，试了好多方法，而且恰巧在看鸟哥的第三章（硬盘分区方面的内容），折腾了三天半终于把这娃整好，真是感动<br>查的东西好杂，让我写个总结冷静冷静  </p>
<ul>
<li>【补充】：重装linux后无法进入windows的解决方法<br>ubuntu和debian直接使用<code>update-grub</code>命令扫一遍即可<br>通用的方法是<code>grub-mkconfig -o /boot/grub/grub.cfg</code>  </li>
</ul>
<h2 id="还原windows导致linux无法进入的原因">还原windows导致linux无法进入的原因</h2><p>windows是相当霸道的，在安装时，<strong>win会主动覆盖掉MBR，也就直接把linux的引导加载程序给覆盖掉</strong>，linux就自然无法进入啦</p>
<h2 id="那么，我们把linux引导加载程序grub修复了就好啦？">那么，我们把linux引导加载程序grub修复了就好啦？</h2><p>咳咳……蛋蛋让我去百度查查怎么修复grub，不过太弱了，看了三种修复的教程都没能看懂，最后似乎还把linux整坏了！！！只好重装linux，可又忘记重新分区，选了个“<strong>清除所有程序和数据</strong>”…………呵呵，linux比windows还霸道，清除的不只是linux的系统分区，而是全硬盘啊！！把我全硬盘都格式化成ext4，真是吓哭我了……      </p>
<h2 id="找回丢失的数据">找回丢失的数据</h2><ol>
<li><strong>硬盘被格式化并不会直接把上面的数据抹去，不被新数据覆盖的区段的数据其实是可以复原的；</strong>  </li>
<li><strong>而linux安装的位置在硬盘的头部，我的主要数据是放在DEF盘，并不会被覆盖，修复数据还是有戏的</strong><br><em>重要的数据放在C盘是极不安全的，一旦系统崩溃，还原、重装之后就被新的系统文件覆盖，找都找不回来……所以平常要把桌面、我的文档、收藏夹等数据设置在DEF盘，至少应该把文档所在的文件夹放在DEF盘，再创建快捷方式到桌面上……非常非常重要的数据要做好备份，备份到网络上（并不可靠）或者备份到移动硬盘等其他设备上</em>  </li>
</ol>
<p>所以呢，网上找找PE，通过UltraISO等软件把iso镜像烧进U盘里，插进计算机，开机启动项设置为该U盘，在PE下利用diskgenius等分区工具进行“<strong>重建分区表</strong>”就可以啦。它会自动搜索电脑上丢失的分区，把还存在数据恢复出来   </p>
<p><em>但是，恢复的数据会有少数被损坏，也就是说不可能完好无损的找回来，所以平时要保护好自己的数据啊？！？！？！！！</em><br><em>而且，找回来的分区必须设置为主分区= =好麻烦！改回逻辑分区的话需要把数据移到其他地方，把这些分区删除后新建扩展分区，在扩展分区下新建逻辑分区，再把数据移回来！</em><br><strong>因为一个硬盘只能存在四个主分区或扩展分区（其中扩展分区至多只能有一个）</strong><br>嗯……我比较懒，所以把原本win上的四个磁盘缩减为三个磁盘，都作为主分区，留下一个作为扩展分区给linux<br>另外呢，<strong>win系统分区必须激活设置为活动分区！！</strong>   </p>
<h2 id="安装windows">安装windows</h2><p>找回数据时，把dell出厂的镜像分区也给找回来了，但是还原程序被格掉，重装后也识别不了出厂镜像= =它那鬼镜像（wim）还分成了两组，每组两个，着实看不懂要怎么用……只好放弃正版win8，上网找了原版的win8.1企业版，在PE下通过winNT安装，再用激活工具破解，从此又过上了盗版的日子<br><em>不过镜像我还留着，据说有方法能够调用，但是实在复杂，等我有空好好研究研究</em>  </p>
<p>安装windows其实有个小插曲，一开始NT一直识别不了我下载的win8.1的安装程序，折腾半天后无奈的检验了一下SHA1，简直哭，SHA1值并不匹配——也就是下载的时候文件被损坏了！<br><strong>所以啊，以后安装重要的、安装过程复杂的程序、软件，一定一定要注意先校验一下MD5值或者SHA1值</strong>（在官网下载的话一般会提供）<br><em>否则如果在安装过程中才发现损坏，会很麻烦的。比如安装系统，装一半的时候才告诉你文件损坏，可是你原来的win早被格式化了，整起来可就麻烦多了（所幸现在系统安装程序在安装前大都保守地检验了一下安装文件的完整性）</em></p>
<h3 id="internal_hard_disk_drive_not_found？">internal hard disk drive not found？</h3><p>这条错误信息着实折腾了我好久，到底是无法读取硬盘呢还是无法调用驱动程序？<br>大概是后者吧，毕竟我在BIOS中能找到硬盘的信息，在PE下也能正常访问硬盘的数据<br>硬盘驱动？这个一般操作系统都会提供——一开始我以为只要把系统装上，这个问题就能够解决，然而并没有这么简单！<br>在PE下安装系统后，需要重启进行最后的设置，但是每次都不能成功进入系统，都卡在这句错误信息上！<br>怎么办？我尝试了百度上的各种办法，最后终于成功了？！——<br><em>在BIOS的boot选项卡下把Secure Boot设置为Disabled，把Boot List Option改为Legacy</em><br>竟然这样就把问题解决了？！百思不得其解，只好求教度娘这两个选项的含义  </p>
<h4 id="Secure_Boot_##参考资料##">Secure Boot  <a href="http://bbs.taobao.com/catalog/thread/154503-260136140.html" target="_blank" rel="external">##参考资料##</a></h4><p>若干年前，各大主板厂商推出UEFI取代历史悠久的BIOS，UEFI全称为“统一的可扩展固定接口”。<br>而Secure Boot是UEFI的一部分，它采用密钥，防止恶意软件侵入操作系统和硬件驱动程序</p>
<p>但是UEFI并不能得到广泛的推广，原因是微软的态度并不积极，他们要求安装Windows8时要关闭Secure Boot，而对预装的Windows8需要打开Secure Boot，所以我在安装windows时就必须把Secure Boot关闭啦！</p>
<h4 id="Boot_List_Option">Boot List Option</h4><p>硬盘启动模式，包括Legacy和UEFI两种  </p>
<p>UEFI如上文介绍，是一种新的BIOS；<br>Legacy则是传统的BIOS模式  </p>
<p>在UEFI下安装的系统以后只能由UEFI模式进入系统；<br>在Legacy下安装的系统以后只能由Legacy模式进入系统  </p>
<p>甚是复杂！！  </p>
<h4 id="（2015/08/12补充）以UEFI模式安装windows系统">（2015/08/12补充）以UEFI模式安装windows系统</h4><p>参考资料：<a href="http://jingyan.baidu.com/article/d713063504112013fdf47589.html" target="_blank" rel="external">win8/win8.1 UEFI + GPT 安装详细图解</a></p>
<ul>
<li>先前windows安装失败的原因<br>  数据恢复后将分区表格式转换成了MRP格式，而安装uefi系统需要gpt分区表  </li>
<li>UEFI系统启动速度比传统模式快  </li>
<li>gpt分区表<ul>
<li>支持四个以上的主分区  </li>
<li>支持2.2TB以上的硬盘  </li>
<li>但是XP不支持该分区表  </li>
</ul>
</li>
<li>分区表转换方法  <ul>
<li>通过PE系统下的diskgenuis工具   </li>
<li>直接利用windows安装程序的命令行（需要烧制到光盘或U盘）<br>  <strong>注意：修改分区表后硬盘数据将丢失，要提前做好备份工作</strong>   <ul>
<li>在安装界面下按<code>&lt;S-F10&gt;</code>打开命令行    </li>
<li>输入<code>diskpart</code>启动分区工具   </li>
<li>输入<code>list disk</code>打印所用硬盘，找到所要修改的硬盘的序号  </li>
<li>输入<code>select disk {num}</code>选择num号硬盘  </li>
<li>输入<code>clean</code>清空硬盘数据   </li>
<li>输入<code>convert gpt</code>修改分区表类型   </li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Linux安装">Linux安装</h2><p>引导方式有两种——   </p>
<ol>
<li>win引导linux：<br> 把引导分区设置为挂载/boot的分区<br> 通过软件easybcd等软件进行引导  </li>
<li>linux引导win：（默认）引导程序将被安装到MBR上  </li>
</ol>
<h2 id="最后">最后</h2><p>电脑修的累死我咯，但是能修好，重新见到windows桌面，真是非常的愉悦，感觉三天半没白忙）<br>说不定以后找不到工作还能给人修修电脑啊哈哈哈哈哈哈！！！  </p>
<p>唯一不满意的是没能把出厂的原版系统找回来，等有空接着研究研究吧！</p>

          
        
      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/linux/">
                #linux
              </a>
            
              <a href="/tags/ubuntu/">
                #ubuntu
              </a>
            
              <a href="/tags/windows安装/">
                #windows安装
              </a>
            
              <a href="/tags/数据恢复/">
                #数据恢复
              </a>
            
          </div>
        

        

        
        
          <div class="post-eof"></div>
        
      </div>
    
  </div>


  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2014/10/30/第一二期作业总结/">
                第一二期作业总结
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            發表於 2014-10-29
          
        </span>

        
          
        

        
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <p>呃，要用markdown写文章呢差点忘了……<br>这期作业写了我八九个小时啊，翻阅了好多资料，干脆写份总结算了。下面就按照我做作业的思路、途中遇到的问题及解决方法展开来写吧——  </p>
<h2 id="大致设想">大致设想</h2><p>首先，模仿百度主页嘛，找张图片，做个输入框，搞个submit的按钮，简单安上导航栏，右上角意思意思搞个“登陆”、“注册”的鬼玩意。   </p>
<h3 id="input_text的尺寸调整">input text的尺寸调整</h3><ul>
<li>text是没有width、height属性的</li>
<li>宽度其实可以通过字段size调整</li>
<li>高度可以通过style属性中的字体高度font-size来调整</li>
<li><p>另外还有style中的padding，可以调整输入框的内边距，不然输入的时候字压着边框太丑</p>
<h3 id="text和submit之间总存在缝隙">text和submit之间总存在缝隙</h3><p>取消缝隙，首先要设置两个元素的margin为0，另外submit默认是有边框的，所以还要设置submit的border为0。但如果将两元素的代码分成两行，则间隙仍不能取消<br><input type="text" style="margin:0px"></p>
<input type="submit" style="margin:0px;border:0;background-color:blue">     

<p>  <input type="text" style="margin:0px"></p>
  <input type="submit" style="margin:0px;border:0;background-color:blue">


</li>
</ul>
<ul>
<li>其实回车也会留下空格的，所以只要把回车去掉，将两个元素挤在一行即可<br><input type="text" style="margin:0px"><input type="submit" style="margin:0px;border:0;background-color:blue"></li>
</ul>
<p><code>&lt;input type=&quot;text&quot; style=&quot;margin:0px&quot;&gt;&lt;input type=&quot;submit&quot; style=&quot;margin:0px;border:0;background-color:blue&quot;&gt;</code></p>
<h3 id="text和submit高低错位">text和submit高低错位</h3><p>首先考虑用top，bottom属性设置上下留空白解决，但是无论怎么改变值都没有变化<br>查过资料后知道，设置left,right,top,bottom前需要设置position    </p>
<blockquote>
<p>position有五种值：<br><code>static</code>（默认）：不定位<br><code>relative</code>：相对于块<br><code>absolute</code>：相对于页面<br><code>fixed</code>：相对于视窗<br><code>inherit</code>：继承父元素的值   </p>
</blockquote>
<h2 id="栅格系统">栅格系统</h2><p>我直接在<code>&lt;body&gt;&lt;/body&gt;</code>中加入  </p>
<pre><code>&lt;<span class="keyword">div</span> <span class="type">class</span>=<span class="string">"container"</span>&gt;
    &lt;<span class="keyword">div</span> <span class="type">class</span>=<span class="string">"row"</span>&gt;
        &lt;<span class="keyword">div</span> <span class="type">class</span>=<span class="string">"col-md-1"</span>&gt;...&lt;/<span class="keyword">div</span>&gt;
        &lt;<span class="keyword">div</span> <span class="type">class</span>=<span class="string">"col-md-offset-1"</span>&gt;...&lt;/<span class="keyword">div</span>&gt;
    &lt;/<span class="keyword">div</span>&gt;    
&lt;/<span class="keyword">div</span>&gt;
</code></pre><p>结果什么都没发生！！！<br>后来才知道，是忘了<code>&lt;link href=&quot;http://cdn.bootcss.com/bootstrap/3.2.0/css/bootstrap.css&quot; rel=&quot;stylesheet&quot;&gt;</code>……呵……呵……简直逗比~</p>
<blockquote>
<p>说道栅格系统，顺便截一段资料过来吧：<br>【<a href="http://v3.bootcss.com/css/#grid" target="_blank" rel="external">栅格系统  bootstrap</a>】</p>
<ul>
<li>行列必须包含在.container里</li>
<li>列（.col-xx-xx）必须包含在行（.row）里</li>
</ul>
</blockquote>
<table border="1"><br>        <tr><br>            <td> </td><br>            <td>超小屏幕 手机（<768px) <="" td=""><br>            <td>小屏幕 平板 （&gt;=768px) </td><br>            <td>中等屏幕 桌面显示器 (&gt;=992px) </td><br>            <td>大屏幕 大桌面显示器 (&gt;=1200px) </td><br>        </768px)></td></tr><br>        <tr><br>            <td>栅格系统行为</td><br>            <td>总是水平</td><br>            <td colspan="3">开始是堆叠在一起的，当大于这些阈值时将变为水平排列C</td><br>        </tr><br>        <tr><br>            <td><font color="red">.container</font>最大宽度</td><br>            <td>None（自动）</td><br>            <td>750px</td><br>            <td>970px</td><br>            <td>1170px</td><br>        </tr><br>        <tr><br>            <td>类前缀</td><br>            <td><font color="red">.col-xs-</font></td><br>            <td><font color="red">.col-sm-</font></td><br>            <td><font color="red">.col-md-</font></td><br>            <td><font color="red">.col-lg-</font></td><br>        </tr><br>        <tr><br>            <td>列（column）数</td><br>            <td colspan="4">12</td><br>        </tr><br>        <tr><br>            <td>最大列宽</td><br>            <td>自动</td><br>            <td>~62px</td><br>            <td>~81px</td><br>            <td>~97px</td><br>        </tr><br>        <tr><br>            <td>槽（gutter）宽</td><br>            <td colspan="4">30px（每列左右均有15px）</td><br>        </tr><br>        <tr><br>            <td>可嵌套</td><br>            <td colspan="4">是</td><br>        </tr><br>        <tr><br>            <td>偏移（offsets）</td><br>            <td colspan="4">是</td><br>        </tr><br>        <tr><br>            <td>列排序</td><br>            <td colspan="4">是</td><br>        </tr><br></table>   

<p>做作业的时候忘记练习表格了……所以手码下来……<br>哇靠！手码表格真是累死了……<br><br><br>列合并：colspan属性</p>
<h2 id="逗比功能：鼠标悬浮事件">逗比功能：鼠标悬浮事件</h2><p>效果：鼠标移到submit上，submit会自动跳到输入框的另外一侧，就是不给你点，还要在输入框上出现（don’t touch me！），但是不要影响搜索！要搜索的话只能点击图片，为了别太坑还得做一个小小的提示框，但不能太大——简直逗比的我……  </p>
<h3 id="submit跳动">submit跳动</h3><ul>
<li>鼠标悬浮事件Mouseover</li>
<li>在两个分别设置两个submit，让他们不能同时出现，display属性，toggle方法<br>  起始状态下，左边的dispaly为none<br>  触发事件后，对两个submit都采用toggle方法  <h3 id="在输入框中出现don’t_touch_me">在输入框中出现don’t touch me</h3></li>
<li>text输入框value属性的获取和修改  <ul>
<li>获取：$(“…”).val()方法即可返回表单的字段   </li>
<li>修改：$(“…”).attr(“…”,”…”)方法即可将第一个参数匹配的属性修改为第二个参数的内容</li>
</ul>
</li>
<li>但是这个用起来似乎有点麻烦……在百度上看到另外一种解决办法<ul>
<li>document.#form.#text.value = document.#text.#text.value + “(Don’t touch me!)”;</li>
<li><strong>要注意的是：这里的#form和#text是form标签和input标签的<font color="red">name</font>属性而不是<del><font color="red"> id </font></del>属性！而且这里不需要打井号，如：document.form.text.value</strong><h3 id="点击图片自动跳转到百度搜索">点击图片自动跳转到百度搜索</h3></li>
</ul>
</li>
<li>跳转<ul>
<li>在百度搜索试着搜索aaa，搜索页得到的网址是<code>http://www.baidu.com/baidu?wd=aaa</code></li>
<li>那么猜测，直接修改网址末尾的aaa为搜索的内容是否可行？结果是可以的……</li>
<li>那么，我们只需要把搜索内容连接到<code>http://www.baidu.com/baidu?wd=</code>末尾作为图片的超链接即可实现</li>
</ul>
</li>
<li>搜索内容的获取<ul>
<li>键盘keyup事件<br>  <em>与其相对的还有一个keydown事件，down是指按下键盘（包括输入法还未把输出到对话框）触发的时间，up是指松开键盘（包括输入法把内容输出到对话框上）触发的时间，</em><br>  <strong>显然这里要用的是应该是keyup事件</strong><br>  <em>另外，使用keyup事件不会在不通过键盘输入来修改内容的情况下触发，也就是说，前边用JQ修改输入框内容并不会触发事件，不影响内容的获取</em></li>
<li>将搜索内容与<code>http://www.baidu.com/baidu?wd=</code>组成的连接作为图片连接的href属性，使用<code>attr(&quot;href&quot;,&quot;...&quot;)</code>方法即可  <h3 id="警告框">警告框</h3></li>
</ul>
</li>
<li>使用bootstrap，自己再对字体、尺寸稍作修改即可</li>
<li>但是千万别忘了<br>  <code>&lt;link href=&quot;http://cdn.bootcss.com/bootstrap/3.2.0/css/bootstrap.css&quot; rel=&quot;stylesheet&quot;&gt;</code></li>
<li>display:none</li>
<li><p>show()方法</p>
<h3 id="注意">注意</h3><p>使用JQ的格式——<br>注意：fuction紧跟后面只有一个右括号<br>ready的右括号在最后边，中间的代码即花括号的内容是fuction的内容   </p>
<p>  $(document).ready<strong><font color="red">(</font></strong>function<strong><font color="green">()</font></strong>{<br>  <br><br>  }<strong><font color="red">)</font></strong>;<br>  <br><br>  $(document).ready(function(){</p>
<pre><code>$(<span class="string">"..."</span>).click(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>{
    $(<span class="string">"..."</span>).attr(<span class="string">""</span>,<span class="string">""</span>);
});
</code></pre><p>  });</p>
</li>
</ul>
<ul>
<li>选择器在圆括号内，除了document和this之外都要加双引号，类要加’.’，id要加’#’</li>
<li>JQ的内容一定要嵌套在<code>$(document).ready(function(){.....});</code>内</li>
<li>语句后边别忘了分号</li>
</ul>
<h2 id="登陆、注册弹框">登陆、注册弹框</h2><h3 id="在百度搜到一种遮罩式弹框的模板">在百度搜到一种遮罩式弹框的模板</h3><p><a href="http://www.jb51.net/article/34951.htm" target="_blank" rel="external">jQuery+css+html实现页面遮罩弹出框</a><br>具体代码如下：</p>
<h4 id="CSS部分:">CSS部分:</h4><pre><code><span class="tag">body</span> { 
    <span class="attribute">font-family</span><span class="value">:Arial, Helvetica, sans-serif;</span> 
    <span class="attribute">font-size</span><span class="value">:<span class="number">12px</span>;</span> 
    <span class="attribute">margin</span><span class="value">:<span class="number">0</span>;</span> 
} 
<span class="id">#main</span> { 
    <span class="attribute">height</span><span class="value">:<span class="number">1800px</span>;</span> 
    <span class="attribute">padding-top</span><span class="value">:<span class="number">90px</span>;</span>     <span class="comment">//打开弹窗的按钮</span>
    <span class="attribute">text-align</span><span class="value">:center;</span> 
} 
<span class="id">#fullbg</span> { 
    <span class="attribute">background-color</span><span class="value">:gray;</span> 
    <span class="attribute">left</span><span class="value">:<span class="number">0</span>;</span> 
    <span class="attribute">opacity</span><span class="value">:<span class="number">0.5</span>;</span>        <span class="comment">//背景设置为灰色</span>
    <span class="attribute">position</span><span class="value">:absolute;</span> 
    <span class="attribute">top</span><span class="value">:<span class="number">0</span>;</span> 
    <span class="attribute">z-index</span><span class="value">:<span class="number">3</span>;</span> 
    <span class="attribute">filter</span><span class="value">:<span class="function">alpha</span>(opacity=<span class="number">50</span>);</span> 
    -moz-<span class="attribute">opacity</span><span class="value">:<span class="number">0.5</span>;</span> 
    -khtml-<span class="attribute">opacity</span><span class="value">:<span class="number">0.5</span>;</span> 
} 
<span class="id">#dialog</span> { 
    <span class="attribute">background-color</span><span class="value">:<span class="hexcolor">#fff</span>;</span> 
    <span class="attribute">border</span><span class="value">:<span class="number">5px</span> solid <span class="function">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, <span class="number">0.4</span>);</span> 
    <span class="attribute">height</span><span class="value">:<span class="number">400px</span>;</span> 
    <span class="attribute">left</span><span class="value">:<span class="number">50%</span>;</span> 
    <span class="attribute">margin</span><span class="value">:-<span class="number">200px</span> <span class="number">0</span> <span class="number">0</span> -<span class="number">200px</span>;</span> 
    <span class="attribute">padding</span><span class="value">:<span class="number">1px</span>;</span> 
    <span class="attribute">position</span><span class="value">:fixed <span class="important">!important</span>;</span> <span class="comment">//弹出的浮动对话框 </span>
    <span class="attribute">position</span><span class="value">:absolute;</span> 
    <span class="attribute">top</span><span class="value">:<span class="number">50%</span>;</span> 
    <span class="attribute">width</span><span class="value">:<span class="number">400px</span>;</span> 
    <span class="attribute">z-index</span><span class="value">:<span class="number">5</span>;</span> 
    <span class="attribute">border-radius</span><span class="value">:<span class="number">5px</span>;</span> 
    <span class="attribute">display</span><span class="value">:none;</span> 
} 
dialog <span class="tag">p</span> { 
    <span class="attribute">margin</span><span class="value">:<span class="number">0</span> <span class="number">0</span> <span class="number">12px</span>;</span> 
    <span class="attribute">height</span><span class="value">:<span class="number">24px</span>;</span> 
    <span class="attribute">line-height</span><span class="value">:<span class="number">24px</span>;</span> 
    <span class="attribute">background</span><span class="value">:<span class="hexcolor">#CCCCCC</span>;</span> 
} 
<span class="id">#dialog</span> <span class="tag">p</span><span class="class">.close</span> { 
    <span class="attribute">text-align</span><span class="pseudo">:right</span>; 
    <span class="attribute">padding-right</span><span class="value">:<span class="number">10px</span>;</span> 
} 
<span class="id">#dialog</span> <span class="tag">p</span><span class="class">.close</span> <span class="tag">a</span> { 
    <span class="attribute">color</span><span class="value">:<span class="hexcolor">#fff</span>;</span> 
    <span class="attribute">text-decoration</span><span class="value">:none;</span> 
} 
</code></pre><h4 id="HTML部分:">HTML部分:</h4><pre><code><span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"main"</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"javascript:showBg();"</span>&gt;</span>点击这里查看效果<span class="tag">&lt;/<span class="title">a</span>&gt;</span> 
    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"fullbg"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span> 
    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"dialog"</span>&gt;</span> 
        <span class="tag">&lt;<span class="title">p</span> <span class="attribute">class</span>=<span class="value">"close"</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"#"</span> <span class="attribute">onclick</span>=<span class="value">"closeBg();"</span>&gt;</span>关闭<span class="tag">&lt;/<span class="title">a</span>&gt;</span>  
        <span class="tag">&lt;<span class="title">div</span>&gt;</span>正在加载，请稍后....<span class="tag">&lt;/<span class="title">div</span>&gt;</span> 
    <span class="tag">&lt;/<span class="title">div</span>&gt;</span> 
<span class="tag">&lt;/<span class="title">div</span>&gt;</span>
</code></pre><h4 id="JQ部分:">JQ部分:</h4><pre><code><span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript">
    <span class="comment">//显示灰色 jQuery 遮罩层</span>
    <span class="function"><span class="keyword">function</span> <span class="title">showBg</span><span class="params">()</span> </span>{
        <span class="keyword">var</span> bh = $(<span class="string">"body"</span>).height();
        <span class="keyword">var</span> bw = $(<span class="string">"body"</span>).width();
        $(<span class="string">"#fullbg"</span>).css({
            height:bh,
            width:bw,
            display:<span class="string">"block"</span>
        });
        $(<span class="string">"#dialog"</span>).show();
    }
    <span class="comment">//关闭灰色 jQuery 遮罩</span>
    <span class="function"><span class="keyword">function</span> <span class="title">closeBg</span><span class="params">()</span> </span>{
        $(<span class="string">"#fullbg,#dialog"</span>).hide();
    }
</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
</code></pre><p>只要稍微修改一些数值就可以直接拿来用啦!!</p>
<h3 id="第二个弹框">第二个弹框</h3><p>但是……直接套用模板，把html再复制一份企图创建第二个弹框就出现问题了，两个按钮弹出的是同一个框，咋办咧？<br>观察一下代码，发现JQ部分的<code>$(&quot;#dialog&quot;).show();</code>语句是对id为dialog的操作，如果在html里直接复制了第一个弹框，id都为dialog，show只为作用于第一个匹配项………<br>如果想要第二个弹框，就得让两个弹框的id不同，改为dialog1和dialog2单击后调用两个不一样的函数，也就是简单的复制一下showBg()函数，并且改为showBg1()和showBg2，并在css部分做出相应的修改就可以啦~     </p>
<h3 id="模态框">模态框</h3><p>上面这个弹框太low了，其实bootstrap已经给我们提供了一个模态框的组件，方便又好看<br>但是偶尔会出现一些奇怪的bug…………</p>
<h2 id="给鼠标悬浮在submit上的时候加个音频">给鼠标悬浮在submit上的时候加个音频</h2><p>嘿嘿，逗比功能就是拿来搞怪的，既然如此干嘛不个它加个笑声的音频呢？  </p>
<h3 id="找到一个简短的小黄人笑声的音频">找到一个简短的小黄人笑声的音频</h3><h3 id="添加一个&lt;audio&gt;标签">添加一个<code>&lt;audio&gt;</code>标签</h3><p>controls属性：如果不设置的话，默认不显示播放器；如果设置为controls=”controls”则显示播放器<br>play()方法：让指定的播放器播放音频<br>具体代码如下：  </p>
<h4 id="html部分：">html部分：</h4><pre><code><span class="tag">&lt;<span class="title">audio</span> <span class="attribute">id</span>=<span class="value">"laugh"</span>&gt;</span>
    <span class="tag">&lt;<span class="title">source</span> <span class="attribute">src</span>=<span class="value">"..."</span> <span class="attribute">type</span>=<span class="value">"audio/mpeg"</span>&gt;</span>
<span class="tag">&lt;/<span class="title">audio</span>&gt;</span>
</code></pre><h4 id="JQ部分：（插入在submit的mouseover事件下）">JQ部分：（插入在submit的mouseover事件下）</h4><p><code>laugh.play();</code><br><strong>奇怪的是！这里要直接对这个对象使用方法，id不加井号；</strong><br><strong>而<code>$(&quot;#laugh&quot;).play();</code>却行不通？！</strong>    </p>
<h2 id="咳咳，总结——">咳咳，总结——</h2><p>感觉像是玩上瘾了，居然两天花了八九个小时做这个网页，而且这两天还是很多课不是没课的……<br>又在第三天花了四五个小时写下这个玩意儿……我也是够拼哒= =<br>虽然很好玩，做出来也很有成就感……但是………我的眼睛啊！！！！！不知道近视又是加深的几度？！</p>

          
        
      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/前端/">
                #前端
              </a>
            
          </div>
        

        

        
        
          <div class="post-eof"></div>
        
      </div>
    
  </div>


  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/1995/07/31/Note_for_Java/Chap4对象与类/">
                《Java核心技术》Chap4笔记
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            發表於 1995-07-30
          
        </span>

        
          
        

        
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <h2 id="Chap4对象与类">Chap4对象与类</h2><h3 id="预定义类">预定义类</h3><h4 id="对象与对象变量">对象与对象变量</h4><p><strong>构造器</strong>是一种特殊的方法，用来构造类的一个实例，<br>构造器名与类名是一致的，<br>如<code>new Date()</code>就构造出Date类的一个实例，也就是一个<strong>对象</strong>，<br><code>Date deadline = new Date();</code>中，<code>deadline</code>是一个对象变量而不是对象，它仅仅起一个引用的作用<br>因此<code>Date deadline;</code>的deadline是不能被直接使用的<br>在Java中，对象都是存储在堆中的    </p>
<h4 id="GregorianCalendar类"><code>GregorianCalendar</code>类</h4><p><code>Date</code>类用来保存时间点，<code>GregorianCalendar</code>类用来给时间点命名<br>这使得中国阴历、希伯来阴历、泰国佛历等历法得以实现     </p>
<pre><code>new <span class="function"><span class="title">GregorianCalendar</span><span class="params">()</span></span>  <span class="comment">//构造日历类的一个实例   </span>
new <span class="function"><span class="title">GregorianCalendar</span><span class="params">(<span class="number">1999</span>, <span class="number">11</span>, <span class="number">31</span>)</span></span>  <span class="comment">//还可以给出时间，但是月份是从0记起的，也就是说这里表示的是1999-12-31而不是11月    </span>
new <span class="function"><span class="title">GregorianCalendar</span><span class="params">(<span class="number">1999</span>, Calendar.DECEMBER, <span class="number">31</span>)</span></span>  <span class="comment">//直接用常量来表示更为直观   </span>
new <span class="function"><span class="title">GregorianCalendar</span><span class="params">(<span class="number">1999</span>, Calendar.DECEMBER, <span class="number">31</span>, <span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>)</span></span>  <span class="comment">//还可以给出具体的时间点   </span>
</code></pre><h4 id="更改器方法与访问器方法">更改器方法与访问器方法</h4><p><strong>更改器方法</strong>（mutator method）：对实例域作出修改的方法<br><strong>访问器方法</strong>（accessor method）：仅访问实例域而不进行修改的方法<br>如<code>GregorianCalendar</code>类中的<code>get</code>方法为访问器方法，<code>set</code>、<code>add</code>方法为更改器方法      </p>
<pre><code>GregorianCalendar now = <span class="keyword">new</span> GregorianCalendar();   <span class="comment">//构造实例  </span>
<span class="built_in">int</span> <span class="built_in">month</span> = now.<span class="built_in">get</span>(Calendar.MONTH);  <span class="comment">//用get方法访问now实例的月份    </span>
now.<span class="built_in">set</span>(Calendar.DAY_OF_MONTH, <span class="number">15</span>);  <span class="comment">//用set方法修改now实例的日   </span>
now.<span class="built_in">set</span>(<span class="number">1999</span>, <span class="number">11</span>, <span class="number">31</span>);  <span class="comment">//也可以直接设置年月日甚至时分秒  </span>
now.<span class="built_in">add</span>(Calendar.MONTH, <span class="number">3</span>);  <span class="comment">//用add方法修改now实例的月份使之增加三个月    </span>
</code></pre><h4 id="GregorianCalendar类的其他方法："><code>GregorianCalendar</code>类的其他方法：</h4><pre><code>int <span class="function"><span class="title">getFirstDayOfWeek</span><span class="params">()</span></span>  <span class="comment">//获取当前用户所在地区的一星期中的第一天，如Calendar.SUNDAY   </span>
Date <span class="function"><span class="title">getTime</span><span class="params">()</span></span>  <span class="comment">//获取当前值所表达的时间点    </span>
</code></pre><h4 id="日期格式规范的几个方法">日期格式规范的几个方法</h4><pre><code><span class="comment">/*java.text.DateFormatSymbols*/</span>   
String[] <span class="function"><span class="title">getShortWeekdays</span><span class="params">()</span></span>    
String[] <span class="function"><span class="title">getShortMonths</span><span class="params">()</span></span>    
String[] <span class="function"><span class="title">getWeekdays</span><span class="params">()</span></span>   
String[] <span class="function"><span class="title">getMonths</span><span class="params">()</span></span>    
<span class="comment">//分别获取当前地区的星期几、月份的缩写和完整名，分别以Calendar的星期和月份常量作为数组索引值     </span>
</code></pre><h3 id="用户自定义类">用户自定义类</h3><p>主力类（workhorse class）没有main方法<br>一个程序中只能有一个类有main方法，这个类必须是共有类（public），而且这个类的类名必须与<code>.java</code>文件名相同<br>编译时，每个类都会单独生成<code>.class</code>文件<br>运行程序时，只需要指向包含main方法的类名       </p>
<h4 id="定义示例">定义示例</h4><p>类的定义包含实例域、构造器、方法（访问器方法、更改器方法）      </p>
<pre><code>class Employee
{
    <span class="comment">//instance fieds实例域</span>
    <span class="keyword">private</span> <span class="keyword">String</span> name;
    <span class="keyword">private</span> <span class="keyword">double</span> salary;   
    <span class="keyword">private</span> Date hireDay;    
    <span class="comment">/*
     *私有变量，只有自身能够使用，外部无法访问
     *注意：为了保证类的“封装”性，应尽量使实例域私有化，外部只能通过访问器方法来访问
     */</span>
    ...
    <span class="comment">//constructor构造器   </span>
    <span class="keyword">public</span> Employee(<span class="keyword">String</span> n, <span class="keyword">double</span> s, <span class="built_in">int</span> <span class="built_in">year</span>, <span class="built_in">int</span> <span class="built_in">month</span>, <span class="built_in">int</span> <span class="built_in">day</span>)  <span class="comment">//构造器与类名相同</span>
    {
        name = n;
        salary = s;
        GregorianCalendar calendar = <span class="keyword">new</span> GregorianCalendar(<span class="built_in">year</span>, <span class="built_in">month</span> - <span class="number">1</span>, <span class="built_in">day</span>);
        hireDay = calendar.getTime();
    }
    <span class="comment">/*
     *当一个实例被创建时，会自动运行构造器
     *每个类可以有一个以上的构造器    
     *每个构造器可以带任意数量的参数   
     *构造器没有返回值  
     *构造器总是伴随new操作符使用，不能用来对一个实例进行重新设置
     *注意不要在构造器中定义与实例域重名的变量  
     */</span>
    ...
    <span class="comment">//methods方法（访问器方法）   </span>
    <span class="keyword">public</span> <span class="keyword">String</span> getName()
    {
        <span class="keyword">return</span> name;
    }
    <span class="keyword">public</span> <span class="keyword">double</span> getSalary()
    {
        <span class="keyword">return</span> salary;
    }
    <span class="keyword">public</span> Date getHireDay()
    {
        <span class="keyword">return</span> hireDay.clone();   <span class="comment">//返回引用可变对象的一个副本，防止外部直接修改对象的设置，以保证封装性</span>
    }
    ...
    <span class="comment">//methods方法（更改器方法）   </span>
    <span class="keyword">public</span> <span class="keyword">void</span> raiseSalary(<span class="keyword">double</span> byPercent)
    {<span class="comment">//薪资增长</span>
        <span class="keyword">double</span> raise = salary * byPercent / <span class="number">100</span>;
        salary += raise;
    }
    <span class="comment">//public表明构造器和方法公有，即除了自身可以调用外，外部也可以调用</span>
}
</code></pre><h4 id="多个源文件的使用">多个源文件的使用</h4><p>不同的类可以放在不同在源文件，只要分别编译了就能够运行<br>还可以每个类单独使用一个源文件（文件名与类名相同）<br>当编译包含main方法的源文件时，编译器会查找是否存在调用的自定义类对应的<code>.class</code>文件，否则则会查找对应的<code>.java</code>文件并主动进行编译<br>如果存在<code>.java</code>文件且比对应的<code>.class</code>文件新，那么该类也会被重新编译     </p>
<h4 id="隐式参数与显式参数">隐式参数与显式参数</h4><p>以上面的<code>raseSalary</code>方法为例    </p>
<pre><code><span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">raiseSalary</span><span class="params">(<span class="keyword">double</span> byPercent)</span>
</span>{<span class="comment">//薪资增长</span>
    <span class="keyword">double</span> raise = salary * byPercent / <span class="number">100</span>;
    salary += raise;
}
</code></pre><p>其中的<code>double byPercent</code>为显式参数<br>而对象本身为隐式参数<br>如调用<code>number007.raiseSalary(5)</code>相当于   </p>
<pre><code>double <span class="keyword">raise</span> = number007.salary * <span class="number">5</span> /<span class="number">100</span>;    
number007.salary += <span class="keyword">raise</span>;   
<span class="comment">//注意到salary相当于number007.salary     </span>
<span class="comment">//但是实例域是私有的，实际上在外部不能如此处理    </span>
</code></pre><p>隐式参数用关键字<code>this</code>来表示，上面的调用也相当于    </p>
<pre><code><span class="keyword">double</span> raise = <span class="keyword">this</span>.salary * <span class="number">5</span> /<span class="number">100</span>;    
<span class="keyword">this</span>.salary += raise;   
</code></pre><p>有的程序员也习惯直接在方法定义中使用this，来显示表明这是类内的实例域    </p>
<h4 id="封装的优点">封装的优点</h4><ol>
<li>可以改变内部实现，如对数据做一定处理后通过访问器方法返回出来     </li>
<li>更改器方法可以添加错误检查，而直接访问实例域无法自动进行检查<br> 注意：尽量不要编写返回引用可变对象的访问器方法，否则如果对该访问器返回的对象使用更改器方法会直接修改类内的私有实例域，从而破坏了封装性;如果需要返回，可以clone这个对象（即生成一个副本）后返回           </li>
</ol>
<h4 id="基于类的访问权限">基于类的访问权限</h4><p>一个对象不仅可以访问自己的私有域，还可以访问同类对象的私有域<br>如：   </p>
<pre><code><span class="class"><span class="keyword">class</span> <span class="title">Employee</span>
</span>{
    ...
    <span class="keyword">public</span> <span class="function"><span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Employee other)</span>
    </span>{
        <span class="function"><span class="keyword">return</span> name.<span class="title">equals</span><span class="params">(other.name)</span></span>;  <span class="comment">//这里访问了同类（Employee）的其他对象（other）的私有域（name）</span>
    }
}
</code></pre><h4 id="私有方法">私有方法</h4><p>将方法定义的<code>public</code>修改为<code>private</code>即可使方法私有化而不被外部调用<br>通常用于编写实现其他公有方法的辅助方法     </p>
<h4 id="final实例域">final实例域</h4><p>对实例域使用<code>final</code>关键字可以使实例域被构造器初始化后就不可修改<br><code>final</code>关键字常用于：基本类型域、不可变类的域<br>不应对可变类使用<code>final</code>关键字，如：<code>private final Date hiredate;</code>hiredate是一个不可变的引用变量，但他引用的Date对象却是可变的，此处的<code>final</code>会给读者造成混乱    </p>
<h3 id="静态域和静态方法">静态域和静态方法</h3>
          
        
      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/Java/">
                #Java
              </a>
            
          </div>
        

        

        
        
          <div class="post-eof"></div>
        
      </div>
    
  </div>


  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/1995/07/31/Note_for_Java/Chap3JAVA的基本程序设计结构/">
                《Java核心技术》Chap3笔记
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            發表於 1995-07-30
          
        </span>

        
          
        

        
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <h2 id="Chap3_JAVA的基本程序设计结构">Chap3 JAVA的基本程序设计结构</h2><p>JAVA语法与C++语法相似，此处仅列出与C语法不同的语法点    </p>
<ul>
<li>JAVA虚拟机从指定类的main方法开始执行    <ul>
<li>main方法必须是静态的    </li>
<li>main方法不直接给操作系统返回“退出代码”，若正常退出，java应用程序返回0。如果希望返回其他代码，需要调用<code>System.exit</code>方法  </li>
</ul>
</li>
<li>JAVA所有函数都属于某个类的方法   </li>
</ul>
<h3 id="注释">注释</h3><p>JAVA有三种注释方法   </p>
<ol>
<li><code>//</code>  </li>
<li><code>/*</code>和<code>*/</code>   </li>
<li><code>/**</code>和<code>*/</code>：将注释内容自动生成文档    </li>
</ol>
<h3 id="数据类型">数据类型</h3><p>JAVA是一种强类型语言   </p>
<h4 id="整型">整型</h4><h5 id="四种整型类型">四种整型类型</h5><ul>
<li><code>int</code>：4字节，约+-20亿  </li>
<li><code>short</code>：2字节，约+-3万    </li>
<li><code>long</code>：8字节，约+-9e19   </li>
<li><code>byte</code>：1字节，-128～127   </li>
</ul>
<h5 id="整型常数表示：">整型常数表示：</h5><ul>
<li>默认：十进制   </li>
<li>后缀<code>L</code>：长整型   </li>
<li>前缀<code>0</code>：八进制   </li>
<li>前缀<code>0x</code>：十六进制    </li>
<li>前缀<code>0b</code>：二进制   </li>
<li>常数表示时可以人为的加上下划线<code>_</code>来使其更容易阅读<br>  如：<code>1_000_000</code>编译器会自动去除下划线    </li>
</ul>
<h4 id="浮点类型">浮点类型</h4><h5 id="两种浮点类型">两种浮点类型</h5><ul>
<li><code>float</code>：4字节，6~7位有效数字   </li>
<li><code>double</code>：8字节，15位有效数字   </li>
<li>通常使用double类型，除非需要快速处理单精度类型数据、需要存储大量单精度类型数据     </li>
</ul>
<h5 id="浮点类型常数表示：">浮点类型常数表示：</h5><ul>
<li>默认：double类型     </li>
<li>后缀<code>F</code>：float类型    </li>
<li>后缀<code>D</code>：double类型   </li>
</ul>
<h5 id="浮点类型的特殊常量">浮点类型的特殊常量</h5><ul>
<li><code>Double.POSITIVE_INFINITY</code>：无穷大     </li>
<li><code>Double.NEGATIVE_INFINITY</code>：无穷小   </li>
<li><code>Double.NaN</code>：“not a number”非数值   </li>
<li>float类型同理     </li>
<li>判断一个特定值是否为数值     <ul>
<li>不可以使用<code>if(x == Double.NaN)</code>    </li>
<li>但可以使用<code>if(Double.isNaN(x))</code>     </li>
</ul>
</li>
</ul>
<h5 id="浮点类型存在舍入误差">浮点类型存在舍入误差</h5><p>这是因为浮点数值是采用二进制系统表示的，<br><code>(2.0-1.1)</code>将得到的是<code>0.899999999999999</code>而不是<code>0.9</code><br>所以浮点数值不适用于进制出现舍入误差的金融计算当中，此时可以使用<code>BigDecimal</code>类     </p>
<h4 id="字符类型">字符类型</h4><p>16字节的UTF16编码格式<br>JAVA中不建议使用<code>char</code>类型，最好将需要处理的字符串用抽象数据类型表示    </p>
<h4 id="boolean类型">boolean类型</h4><ul>
<li>只有false和true两个值    </li>
<li>不能和整型相互转换<br>  如<code>if( x=0 )</code>，表达式<code>x=0</code>的值为整型0   <ul>
<li>在C语言中，该语句符合语法   </li>
<li>但在JAVA中，该语句不符合语法，因为条件表达式要求是boolean类型，而boolean类型和整型不能相互转换    </li>
</ul>
</li>
</ul>
<h3 id="变量">变量</h3><h4 id="声明">声明</h4><ul>
<li>可以使用除了“+”、空格等以外的任何unicode字符（包括中文）    </li>
<li>变量名长度没有限制   </li>
<li>一次可以声明多个变量，但不建议这样做，每行声明一个变量并给出相应的注释能提高程序的可读性     </li>
<li>变量声明应尽可能靠近第一次使用的地方，而不一定都在函数开头   </li>
<li>JAVA不区分“定义”和“声明”    </li>
<li>局部变量不会自动初始化为null     </li>
</ul>
<h4 id="常量">常量</h4><ul>
<li>定义借助<code>final</code>关键字，如<code>final double pi=3.14</code>     </li>
<li>常量只能被赋值一次    </li>
<li>“const”也是JAVA的保留字，但并不使用    </li>
</ul>
<h3 id="运算符">运算符</h3><h4 id="一般运算">一般运算</h4><ul>
<li>整数除以0会引发异常，浮点数除以0会得到无穷大或NaN    </li>
<li>支持<code>+=</code>、<code>++</code>、<code>A?B:C</code>、位运算符    </li>
<li>对两个boolean值进行<code>&amp;</code>或<code>|</code>运算，两边的表达式都要经过计算<br>  但若进行<code>&amp;&amp;</code>或<code>||</code>运算，则采取“短路”原则   </li>
<li>C和C++对于<code>&gt;&gt;</code>运算采取“符号拓展”还是<code>高位补0</code>是不确定的<br>  但JAVA规范为“符号拓展”，即可用于任意整型    </li>
<li>JAVA不支持幂运算符<code>^</code>    </li>
<li>JAVA不支持逗号运算符，但在for语句中可以用for分隔表达式列表     </li>
</ul>
<h4 id="数学函数与常量">数学函数与常量</h4><p>包含于数学类<code>Math</code>中    </p>
<ul>
<li>幂运算：<code>Math.pow(x,a)</code>      </li>
<li>其他：<br>  <code>Math.sin()</code><br>  <code>Math.cos()</code><br>  <code>Math.tan()</code><br>  <code>Math.atan()</code><br>  <code>Math.exp()</code><br>  <code>Math.log()</code><br>  <code>Math.log10()</code><br>  等等     </li>
<li>数学常量<br>  <code>Math.PI</code><br>  <code>Math.E</code><br>  等等    </li>
<li><code>Math</code>类的方法都采用计算机浮点单元中的例程以获得最快的性能<br>  如果需要确保在所有平台上得到相同的结果，可以使用<code>StrictMath</code>类        </li>
</ul>
<h4 id="类型转换">类型转换</h4><p><img src="http://www.oschina.net/uploads/space/2012/0910/114649_PzTn_592434.jpg" alt="Java类型转换"><br>虚线表示转换过程中会损失精度<br>运算过程中会自动将操作数往“高级别”的类型转换<br>“级别”顺序：double,float,long,int,“others”      </p>
<h4 id="强类型转换">强类型转换</h4><p>同C语言    </p>
<ul>
<li>浮点数转换为整型    <ul>
<li>直接使用<code>(int)</code>等将自动截断小数部分     </li>
<li>如果需要进行舍入运算，应借助<code>Math.round()</code>方法    </li>
</ul>
</li>
<li>如果尝试将一种类型强制转换为超出范围的另一种类型，其数值将会被截断    </li>
<li>一般不要将boolean类型强制转换为其他类型，也不要将其他类型强制转换为boolean类型<br>  如果非要这么做，可以借助三元运算符<code>b?1:0</code>     </li>
</ul>
<h4 id="优先级和结合性">优先级和结合性</h4><p><img src="http://b.hiphotos.baidu.com/space/pic/item/1c950a7b02087bf45b82b06bf2d3572c10dfcfc2.jpg" alt="Java优先级和结合性"><br>与C语言几乎一致，除了少量的特性增减<br>大致顺序如下：    </p>
<ol>
<li>初等运算符、方法调用       </li>
<li>一元运算符、new     </li>
<li>算术运算符（先乘除，后加减）    </li>
<li>位“移”运算符      </li>
<li>关系运算符（但<code>==</code>和<code>!=</code>优先级较低）、instanceof      </li>
<li>位“与”    </li>
<li>位“异”     </li>
<li>位“或”     </li>
<li>逻辑运算符（除了<code>!</code>，且<code>&amp;&amp;</code>优先级较高）     </li>
<li>条件运算符    </li>
<li>赋值运算符       </li>
</ol>
<h4 id="枚举类型">枚举类型</h4><pre><code><span class="keyword">enum</span> <span class="built_in">Size</span> { SMALL, MEDIUM, LARGE, EXTRA_LARGE };
<span class="built_in">Size</span> s = <span class="built_in">Size</span>.MEDIUM;   
</code></pre><p>此时的Size类型变量只能存储这个类型枚举出来的某个值，或是<code>null</code>           </p>
<h3 id="字符串">字符串</h3><p>没有内置的字符串类型，但有预定义的String类<br>双引号扩起来的字符串都是String类的一个实例<br>java字符串都是Unicode字符序列    </p>
<h4 id="子串">子串</h4><p>String类的substring方法可以提取从较长的字符串中提取出一个子串    </p>
<pre><code><span class="keyword">String</span> greeting = <span class="string">"Hello"</span>;
<span class="keyword">String</span> s = greeting.substring(<span class="number">0</span>, <span class="number">3</span>);   
</code></pre><p><strong>注意：这里提取的是0-2的字符，即大于等于0,小于3</strong></p>
<h4 id="拼接">拼接</h4><p>字符串可以用加号<code>+</code>进行拼接<br>如果字符串跟一个非字符串数值进行拼接，后者将会转换为一个字符串（任何java对象都可以转换成字符串）     </p>
<h4 id="不可变字符串">不可变字符串</h4><p>String类对象是不可变字符串，即字符串内容不可以改变<br>倘若要改变字符串内容，可以借助子串和拼接<br>如：将greeting变量的内容从“Hello”改为“Help!”     </p>
<pre><code><span class="setting">greeting = <span class="value">greeting.substring(<span class="number">0</span>, <span class="number">3</span>) + <span class="string">"p!"</span>;</span></span>
</code></pre><p>优点：编译器可以让字符串共享，而通常情况下，共享的使用频率远高于提取、拼接字符串<br><em>共享：想象各种字符串存放在公共的存储池，变量指向存储池中相应的位置;复制字符串变量时，原始字符串和复制的字符串共享相同的字符</em><br>但有时侯需要用到构建字符串StringBuilder类     </p>
<p><em>另外，当String类的实例指向另一个字符串（重新赋值）时，原始字符串会被垃圾回收机制自动回收</em>      </p>
<h4 id="检测字符串是否相等">检测字符串是否相等</h4><p>使用<code>equals</code>方法检测两个字符串是否相等    </p>
<pre><code>s.<span class="keyword">equals</span>(t);  
</code></pre><p>该方法返回一个boolean值<br><em>如果需要忽略大小写，可以使用<code>equalsIgnoreCase</code>方法</em>     </p>
<ul>
<li>C语言中用<em>strcmp</em>函数进行字符串比较<br>  java中也有对应的<code>compareTo</code>方法，但是用<code>equals</code>方法更为直观      </li>
<li>C++语言中直接用<code>==</code>来判断两个字符串是否相等，<br>  但在JAVA中用<code>==</code>判断的是两个字符串是否在同一位置（有可能共享），一般是没有意义的      </li>
</ul>
<h4 id="空串和null串">空串和null串</h4><p>空串：长度为0（<code>str.length() == 0</code>）,内容为空（<code>str.equals(&quot;&quot;)</code>）<br>null串：目前没有任何对象与该变量关联（<code>str == null</code>）            </p>
<h4 id="代码点与代码单元">代码点与代码单元</h4><p>大多数常用的Unicode字符都使用一个代码单元表示，但辅助字符等需要一对代码单元表示<br>无论是用一个代码单元还是用一对代码单元表示，每个字符就作为一个代码点     </p>
<ul>
<li><code>length()</code>方法返回的是代码单元的数量     </li>
<li><code>codePointCount(x, y)</code>方法返回代码单元为x至(y-1)的代码点数量<br>  <code>int cpCount = greeting.codePointCount(0, greeting.length())</code>可以获取一个字符串的代码点数量      </li>
<li><code>charAt(i)</code>方法返回位置为i的代码单元<br>  如果想获取位置为i的代码单元，可以这么做<br>  <code>int index = greeting.offsetByCodePoints(0, i);</code><br>  <code>int cp = greeting.codePointAt(index);</code><br>  注意：<code>codePointAt()</code>方法的参数为代码单元的索引，而不是代码点的      </li>
</ul>
<h4 id="常用字符串方法">常用字符串方法</h4><pre><code>char <span class="function"><span class="title">charAt</span><span class="params">(int index)</span></span>      
int <span class="function"><span class="title">codePointAt</span><span class="params">(int index)</span></span>     
int <span class="function"><span class="title">offsetByCodePoints</span><span class="params">(int startIndex, int cpCount)</span></span>  
int <span class="function"><span class="title">compareTo</span><span class="params">(String other)</span></span>  
boolean <span class="function"><span class="title">endsWith</span><span class="params">(String suffix)</span></span>  
boolean <span class="function"><span class="title">equals</span><span class="params">(Object other)</span></span>     
boolean <span class="function"><span class="title">equalsIngoreCase</span><span class="params">(String other)</span></span>  
int <span class="function"><span class="title">indexOf</span><span class="params">(String str [, int fromIndex])</span></span>  
int <span class="function"><span class="title">indexOf</span><span class="params">(int cp [, int fromIndex])</span></span>   <span class="comment">//返回（以fromIndex为索引0的）与str字符串或cp代码点匹配的第一个子串的开始位置的索引，若不存在，返回-1  </span>
int <span class="function"><span class="title">lastIndexOf</span><span class="params">(String str [, int fromIndex])</span></span>  
int <span class="function"><span class="title">lastIndexOf</span><span class="params">(int cp [, int fromIndex])</span></span>   <span class="comment">//最后一个子串   </span>
int <span class="function"><span class="title">length</span><span class="params">()</span></span>  
int <span class="function"><span class="title">codePointCount</span><span class="params">(int startIndex, int endIndex)</span></span>   <span class="comment">//startIndex到endIndex-1之间   </span>
String <span class="function"><span class="title">replace</span><span class="params">(CharSequence oldString, CharSequence newString)</span></span>   <span class="comment">//返回新串，新串中将旧串中的oldString中的字符映射位newString中的对应字符    </span>
boolean <span class="function"><span class="title">startWith</span><span class="params">(String prefix)</span></span>   
String <span class="function"><span class="title">substring</span><span class="params">(int beginIndex [, int endIndex])</span></span>  <span class="comment">//startIndex到endIndex-1之间  </span>
String <span class="function"><span class="title">toLowerCase</span><span class="params">()</span></span>   
String <span class="function"><span class="title">toUpperCase</span><span class="params">()</span></span>   
String <span class="function"><span class="title">trim</span><span class="params">()</span></span>    <span class="comment">//删除头部和尾部的空格     </span>
</code></pre><p><strong>注意：java一般使用的是不可变字符串，因此上述方法都是返回新串，而不是进行原地操作</strong>       </p>
<h4 id="构建字符串">构建字符串</h4><p>有时候需要用较短字符串构建长字符串（如按键、文件中的单词等）<br>采用String类来拼接字符串每次都产生新串，耗时费空间<br>此时可以使用<code>StringBuilder</code>类     </p>
<h5 id="使用方法">使用方法</h5><ol>
<li>构建一个空的字符串构建器<br> <code>StringBuilder builder = new StringBuilder();</code>     </li>
<li>不断添加子串或字符<br> <code>builder.append(ch);</code><br> <code>builder.append(str);</code>     </li>
<li>将builder下的字符串和字符构建成长字符串并返回<br> <code>String completedString = builder.toString();</code>    </li>
</ol>
<h5 id="StringBuilder类的常用方法"><code>StringBuilder</code>类的常用方法</h5><pre><code><span class="function"><span class="title">StringBuilder</span><span class="params">()</span></span>          
int <span class="function"><span class="title">length</span><span class="params">()</span></span>          
StringBuilder <span class="function"><span class="title">append</span><span class="params">(String str)</span></span>     
StringBuilder <span class="function"><span class="title">append</span><span class="params">(char c)</span></span>           
StringBuilder <span class="function"><span class="title">appendCodePoint</span><span class="params">(int cp)</span></span>     
void <span class="function"><span class="title">setCharAt</span><span class="params">(int i, char c)</span></span>    
StringBuilder <span class="function"><span class="title">insert</span><span class="params">(int offset, String str)</span></span>       
StringBuilder <span class="function"><span class="title">insert</span><span class="params">(int offset, char c)</span></span>    
StringBuilder <span class="function"><span class="title">delect</span><span class="params">(int startIndex, int endIndex)</span></span>     
String <span class="function"><span class="title">toString</span><span class="params">()</span></span>   
</code></pre><p><em>注意：上述返回StringBuilder的方法，都是返回this</em>    </p>
<h3 id="输入输出">输入输出</h3><h4 id="输入">输入</h4><h5 id="相关方法">相关方法</h5><pre><code><span class="comment">/*java.util.Scanner*/</span>
<span class="function"><span class="title">Scanner</span><span class="params">(InputStream in)</span></span>  <span class="comment">//用给定的输入流in创建一个Scanner对象  </span>
String <span class="function"><span class="title">nextLine</span><span class="params">()</span></span>  <span class="comment">//读取一行   </span>
String <span class="function"><span class="title">next</span><span class="params">()</span></span>  <span class="comment">//读取一个单词（以空格为分隔符）   </span>
int <span class="function"><span class="title">nextInt</span><span class="params">()</span></span>  <span class="comment">//读取一个整型  </span>
double <span class="function"><span class="title">nextDouble</span><span class="params">()</span></span>  <span class="comment">//读取一个浮点数   </span>
boolean <span class="function"><span class="title">hasNext</span><span class="params">()</span></span>  <span class="comment">//检测是否还有单词可以读取   </span>
boolean <span class="function"><span class="title">hasNextInt</span><span class="params">()</span></span>  
boolean <span class="function"><span class="title">hasNextDouble</span><span class="params">()</span></span>  

<span class="comment">/*java.lang.System*/</span>  
static Console <span class="function"><span class="title">console</span><span class="params">()</span></span>  <span class="comment">//如果有可能进行交互操作，则通过控制台窗口为用户返回一个Console对象;否则返回null    </span>

<span class="comment">/*java.io.Console*/</span>  
static char[] <span class="function"><span class="title">readPassword</span><span class="params">(String prompt, Object...args)</span></span>   
static String <span class="function"><span class="title">readLine</span><span class="params">(String prompt, Object...args)</span></span>    <span class="comment">//显示prompt，并读取用户输入   </span>
</code></pre><h5 id="常见用法">常见用法</h5><pre><code><span class="literal">import</span> java.util.*;  <span class="comment">//加载java.util包</span>
Scanner <span class="keyword">in</span> = <span class="keyword">new</span> Scanner(System.<span class="keyword">in</span>);  <span class="comment">//以标准输入流创建一个Scanner对象  </span>
System.out.<span class="built_in">print</span>(<span class="string">"What is your name?"</span>);  <span class="comment">//输出到标准输出流  </span>
<span class="built_in">String</span> name = <span class="keyword">in</span>.nextLine();  <span class="comment">//从标准输入流读取一行   </span>
</code></pre><h4 id="格式化输出">格式化输出</h4><p>Java沿用了C语言库函数中的printf，此处只列出不同之处   </p>
<h5 id="转换符">转换符</h5><p><code>%d</code>、<code>%x</code>、<code>%o</code>、<code>%f</code>、<code>%e</code>、<code>%g</code>、<code>%s</code>、<code>%c</code>、<code>%%</code><br><code>%b</code>：布尔<br><code>%h</code>：散列码<br><code>%tx</code>：日期时间，此处x为额外的参数<br><code>%n</code>：行分隔符<br><code>%a</code>：十六进制浮点数    </p>
<h4 id="字符串输出">字符串输出</h4><p><code>System.out.print()</code><br><code>System.out.println()</code>输出一行（自动换行）    </p>
<h5 id="标志">标志</h5><p><code>+</code>、<code>空格</code>、<code>0</code>、<code>-</code>、<code>,</code><br><code>(</code>：将负数括在括号内<br><code>,</code>：添加分组分隔符，如3,333,333<br><code>#</code>：对于f格式，添加小数点;对于x或0格式，添加0x或0<br><code>$</code>：给定被格式化的参数索引，如<code>%1$d, %1$x</code>表示以十进制和十六进制打印第一个参数，注意参数索引是从1开始，而不是0<br><code>&lt;</code>：沿用上一个参数的值，如<code>%d%&lt;x</code>表示以十进制和十六进制打印同一个参数   </p>
<h5 id="格式化后存储字符串（而不直接输出）">格式化后存储字符串（而不直接输出）</h5><p><code>String.format()</code>方法    </p>
<h5 id="日期时间参数（即%tx中的x）">日期时间参数（即<code>%tx</code>中的x）</h5><p><code>%tc</code>：完整的日期和时间，如Mon Feb 09 18:05:19 PST 2004<br><code>%tF</code>：ISO8601日期，如2004-02-09<br><code>%tD</code>：美国格式的日期，如02/09/2004<br><code>%tT</code>：24小时时间，如18:09:19<br><code>%tr</code>：12小时时间，如06:09:19pm<br><code>%tR</code>：24小时时间（没有秒），如18:09<br><code>%tY</code>：年份，如：2004<br><code>%tB</code>：月份的完整拼写，如February<br><code>%tb</code>：月份的缩写，如Feb<br><code>%tm</code>：月份的数字，如02<br><code>%td</code>：日的数字，如09<br><code>%tA</code>：星期几的完整拼写，如Monday<br><code>%ta</code>：星期几的缩写，如Mon<br><code>%tH</code>：24小时数字，如18<br><code>%tI</code>：12小时数字，如06<br><code>%tM</code>：分钟的数字，如05<br><code>%tS</code>：秒钟的数字，如19<br><code>%tL</code>：三位毫秒数字，如047<br><code>%tN</code>：九位毫秒数字，如047000000<br><code>%tP</code>：上下午标志（大写），如PM<br><code>%tp</code>：上下午标志（小写），如pm<br><code>%tZ</code>：时区，如PST    </p>
<p>其他：<code>%ty</code>、<code>%tC</code>、<code>%te</code>、<code>%tj</code>、<code>%tk</code>、<code>%tl</code>、<code>%tz</code>、<code>%ts</code>、<code>%tQ</code>      </p>
<p>使用方法：<br><code>System.out.printf( &quot;%1$s %2$tB %2$te %2$tY&quot;, &quot;Due date&quot;, new Date() );</code><br>或<code>System.out.printf( &quot;%s %tB %&lt;te %&lt;tY&quot;, &quot;Due date&quot;, new Date() );</code>     </p>
<h4 id="文件输入输出">文件输入输出</h4><h5 id="文件输出">文件输出</h5><pre><code>Scanner <span class="keyword">in</span> = <span class="keyword">new</span> Scanner(Paths.<span class="keyword">get</span>(<span class="string">"myfile.txt"</span>));    <span class="comment">//用File对象构造一个Scanner对象，注意不要直接用字符串“myfile.txt”构造Scanner对象;如果文件名中存在反斜杠，则需要用两个反斜杠（第一个反斜杠为转义）    </span>
</code></pre><p>如果用一个不存在的文件构造一个Scanner，则会发生异常      </p>
<h5 id="文件输入">文件输入</h5><pre><code>PrintWriter <span class="keyword">out</span> = <span class="keyword">new</span> PrintWriter(<span class="string">"myfile.txt"</span>);    <span class="comment">//构造一个PrintWriter对象，如果不存在则创建    </span>
<span class="keyword">out</span>.print(<span class="string">"....."</span>);   
<span class="keyword">out</span>.println(<span class="string">"......"</span>);
<span class="keyword">out</span>.printf(<span class="string">"....."</span>, ....);    
</code></pre><p>如果用一个不能被创建的文件名构造PrintWriter，则会发生异常</p>
<h5 id="文件路径">文件路径</h5><p>可以用绝对路径，也可以使用相对路径<br>如果是在控制台调用java，则以控制台的当前路径为基准；<br>如果是在集成环境调用java，则以IDE设定为基准；<br>可以通过<code>String dir = System.getProperty(&quot;user.dir&quot;);</code>来获取当前的路径      </p>
<h3 id="流程控制">流程控制</h3><p>与C语言基本一致，只有以下少数区别    </p>
<h4 id="嵌套的语句块内不能重定义外层语句块的同名变量">嵌套的语句块内不能重定义外层语句块的同名变量</h4><pre><code><span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span>
</span>{
    <span class="keyword">int</span> n;
    ...
    {
        <span class="keyword">int</span> k;
        <span class="keyword">int</span> n;  <span class="comment">//Error!!!!!!!!1</span>
    }
}
</code></pre><h4 id="没有goto语句，但是break语句可以带标签">没有goto语句，但是break语句可以带标签</h4><p>可以利用带标签的break语句跳出多层循环<br>但“goto”仍作为Java的保留字    </p>
<h4 id="在循环中检测两个浮点数是否相等需要特别小心">在循环中检测两个浮点数是否相等需要特别小心</h4><p>如<code>for(double x=0; x!=10; x+=0.1) ....</code>有可能永远不会跳出循环<br>因为浮点数存在舍入误差，x可能从9.99999999999998跳到10.09999999999998     </p>
<h4 id="switch语句中的case">switch语句中的case</h4><ul>
<li>允许使用字符串常量   </li>
<li><p>使用枚举常量时，无需列出枚举名       </p>
<pre><code><span class="keyword">Size</span> sz = ...;
<span class="keyword">switch</span> (sz)
{
    <span class="keyword">case</span> SMALL:   <span class="comment">//不需要用Size.SMALL    </span>
        ....
        <span class="keyword">break</span>;
    ....
}
</code></pre></li>
</ul>
<h3 id="大数值">大数值</h3><p>java.math包中包含了<code>BigInteger</code>类和<code>BigDecimal</code>类，<br>分别用来支持任意精度的整型和浮点型计算     </p>
<h4 id="相关方法-1">相关方法</h4><pre><code><span class="comment">/*java.math.BigInteger*/</span>
BigInteger <span class="function"><span class="title">add</span><span class="params">(BigInteger other)</span></span>     
BigInteger <span class="function"><span class="title">subtract</span><span class="params">(BigInteger other)</span></span>   
BigInteger <span class="function"><span class="title">multiply</span><span class="params">(BigInteger other)</span></span>  
BigInteger <span class="function"><span class="title">divide</span><span class="params">(BigInteger other)</span></span>   
BigInteger <span class="function"><span class="title">mod</span><span class="params">(BigInteger other)</span></span>     
int <span class="function"><span class="title">compareTo</span><span class="params">(BigInteger other)</span></span>     
static BigInteger <span class="function"><span class="title">valueOf</span><span class="params">(long x)</span></span>     <span class="comment">//将x转换为BigInteger并返回   </span>

<span class="comment">/*java.math.BigDecimal*/</span>
BigDecimal <span class="function"><span class="title">divide</span><span class="params">(BigDecimal other, RoundingMode mode)</span></span>   <span class="comment">//必须给除舍入方式，RoundingMode.HALF_UP即为四舍五入     </span>
static BigDecimal <span class="function"><span class="title">valueOf</span><span class="params">(long x [, int scale])</span></span>   <span class="comment">//将x（x/10^scale）转换为BigDecimal并返回   </span>
<span class="comment">//....基本与BigInteger类似   </span>
</code></pre><h4 id="使用示例（以BigInteger为例）">使用示例（以BigInteger为例）</h4><pre><code><span class="type">BigInteger</span> a = <span class="type">BigInteger</span>.valueOf(<span class="number">100</span>);  
<span class="type">BigInteger</span> b = <span class="type">BigInteger</span>.valueOf(<span class="number">10</span>);
<span class="type">BgiInteger</span> <span class="built_in">c</span>;
<span class="built_in">c</span> = a.add(b);       <span class="comment">//c = a + b;   </span>
<span class="built_in">c</span> = a.subtract(b);  <span class="comment">//c = a - b;   </span>
<span class="built_in">c</span> = a.multiply(b);  <span class="comment">//c = a * b;   </span>
<span class="built_in">c</span> = a.divide(b);    <span class="comment">//c = a / b;   </span>
<span class="built_in">c</span> = a.mod(b);       <span class="comment">//c = a % b;  </span>
<span class="keyword">if</span>( a.compareTo(b) ) ;   <span class="comment">//if(a - b) ;   </span>
</code></pre><h3 id="数组">数组</h3><h4 id="声明-1">声明</h4><pre><code><span class="keyword">int</span>[] a;  <span class="comment">//空的数组，不能直接使用    </span>
<span class="keyword">int</span>[] a = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">100</span>];  <span class="comment">//构造含有100个元素的数组   </span>
<span class="keyword">int</span>[] a = <span class="keyword">new</span> <span class="keyword">int</span>[n];    <span class="comment">//元素个数可以是变量   </span>
</code></pre><p>数字数组：所有元素初始化为0<br>boolean数组：所有元素初始化为false<br>对象数组（如字符串数组）：所有元素初始化为null     </p>
<p>获取数组长度：<code>a.length</code>，这是数组的一个属性，而不是方法，不需要加括号    </p>
<h4 id="for_each循环">for each循环</h4><pre><code><span class="tag">for</span>( <span class="tag">int</span> <span class="rule"><span class="attribute">element </span>:<span class="value"> a )      
    .... </span></span>;
</code></pre><p>将可迭代对象（实现Iterable接口的对象）的每个程序暂存于变量element     </p>
<p><em>如果需要打印整个数组，可以这样使用<code>System.out.println( Arrays.toString(a) )</code>，将得到诸如<code>[2,3,5,7,11,13]</code>的输出</em>    </p>
<h4 id="数组初始化、匿名数组">数组初始化、匿名数组</h4><pre><code><span class="keyword">int</span>[] smallPrimes = {<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>};    <span class="comment">//注意无需使用new   </span>
smallPrimes = <span class="keyword">new</span> <span class="keyword">int</span>[] {<span class="number">17</span>, <span class="number">19</span>, <span class="number">23</span>, <span class="number">29</span>, <span class="number">31</span>, <span class="number">37</span>};   <span class="comment">//给smallPrimes重新初始化    </span>
</code></pre><p>Java还允许长度为0的数组，如<code>new elementType[0]</code><br><strong>注意：数组长度为0与null不同</strong>      </p>
<h4 id="数组拷贝">数组拷贝</h4><h5 id="浅复制（共享）">浅复制（共享）</h5><pre><code><span class="keyword">int</span>[] luckyNumbers = smallPrimes;    <span class="comment">//两个名字共享一个数组    </span>
</code></pre><h5 id="深复制">深复制</h5><p>借助<code>Arrays.copyOf(Arrays x, int length)</code>方法，拷贝x数组的length个元素生成新数组并返回    </p>
<pre><code><span class="keyword">int</span>[] copiedLuckyNumbers = Arrays.copyOf(smallPrimes, smallPrimes.<span class="built_in">length</span>);   
</code></pre><p>也可以巧妙地用来增长数组：   </p>
<pre><code>luckyNumbers = Arrays.copyOf(luckyNumbers, <span class="number">2</span> * luckyNumbers.<span class="built_in">length</span>);  <span class="comment">//将数组增长一倍   </span>
</code></pre><h4 id="命令行参数">命令行参数</h4><p><code>public static void main(String[] args)</code>中的args即为命令行参数<br>与C不同的是，命令行参数不包含文件名<br>即对于命令<code>java Message -h world</code>，程序获取的第一个参数，即args[0]是<code>-h</code><em>而不是<code>java</code>或<code>Message</code></em>   </p>
<h4 id="数组排序">数组排序</h4><p><code>Arrays.sort(a)</code>：原地操作，用优化的快速排序法对a数组进行排序<br><code>Math.random()</code>方法可以返回一个0-1但不包含1的随机浮点数（乘以n后可以获得0-(n-1)的随机整数）    </p>
<h4 id="相关方法-2">相关方法</h4><pre><code><span class="value">static</span> String <span class="function">toSrting</span>(type<span class="attr_selector">[]</span> <span class="tag">a</span>)     
<span class="value">static</span> type <span class="function">copyOf</span>(type<span class="attr_selector">[]</span> <span class="tag">a</span>, int length)    <span class="comment">//如果length &gt; a.length，将返回false或0  </span>
<span class="value">static</span> type <span class="function">copyOfRange</span>(type<span class="attr_selector">[]</span> <span class="tag">a</span>, int start, int end)  <span class="comment">//如果end &gt; a.length-1，将返回false或0    </span>
<span class="value">static</span> void <span class="function">sort</span>(type<span class="attr_selector">[]</span> <span class="tag">a</span>)   
<span class="value">static</span> int <span class="function">binarySearch</span>(type<span class="attr_selector">[]</span> <span class="tag">a</span> <span class="attr_selector">[, int start, int end]</span>, type v)  <span class="comment">//二分搜索查找v元素的位置，若查找失败，返回负数r; (-r-1)表示为了维持数组的顺序，v应插入的位置    </span>
<span class="value">static</span> void <span class="function">fill</span>(type<span class="attr_selector">[]</span> <span class="tag">a</span>, type v)  <span class="comment">//将数组a的所有元素设置为v    </span>
<span class="value">static</span> boolean <span class="function">equals</span>(type<span class="attr_selector">[]</span> <span class="tag">a</span>, type<span class="attr_selector">[]</span> <span class="tag">b</span>)  <span class="comment">//当两个数组大小相等，且每个元素对应相等时（此时两个数组未必共享），返回true    </span>
</code></pre><h4 id="多维数组">多维数组</h4><pre><code>double[][] balances;
double[<span class="link_label"></span>][<span class="link_reference"></span>] balances = new double[<span class="link_label">10</span>][<span class="link_reference">10</span>];  
int[][] magicSquare = 
<span class="code">    {</span>
<span class="code">        {16, 3, 2, 13},</span>
<span class="code">        {5, 10, 11, 8},</span>
<span class="code">        {9, 6, 7, 12},  </span>
<span class="code">        {4, 15, 14, 1}</span>
<span class="code">    };  </span>
System.out.println( Array.deepToString(a) );  //快速打印整个多维数组    
</code></pre><h4 id="不规则数组">不规则数组</h4><p>Java的多维数组实际上是“数组的数组”，可以方便地构造不规则数组      </p>
<pre><code>//例如构造一个三角形的不规则数组
int[<span class="link_label"></span>][<span class="link_reference"></span>] odds = new int[<span class="link_label">10</span>][<span class="link_reference"></span>];
for(int n = 0; n <span class="xml"><span class="tag">&lt; <span class="attribute">10</span>; <span class="attribute">n</span>++)
    <span class="attribute">odds</span>[<span class="attribute">n</span>] = <span class="attribute">new</span> <span class="attribute">int</span>[<span class="attribute">n</span>+<span class="attribute">1</span>];</span></span>
</code></pre>
          
        
      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/Java/">
                #Java
              </a>
            
          </div>
        

        

        
        
          <div class="post-eof"></div>
        
      </div>
    
  </div>


  

          </div>

          
            <div class="pagination">
              <a class="extend prev" rel="prev" href="/">&laquo;</a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
            </div>
          
        </div>

        
<div class="sidebar-toggle">
  <div class="sidebar-toggle-line-wrap">
    <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
  </div>
</div>

<div id="sidebar" class="sidebar">
  <div class="sidebar-inner">

    

    <div class="site-overview">
      <div class="site-author motion-element">
        <img class="site-author-image" src="http://img4.duitang.com/uploads/item/201407/11/20140711151916_MCEKj.jpeg" alt="ZhengKai" />
        <p class="site-author-name">ZhengKai</p>
      </div>
      <p class="site-description motion-element"></p>
      <div class="site-state motion-element">
        <div class="site-state-item site-state-posts">
          <a href="/archives">
            <span class="site-state-item-count">17</span>
            <span class="site-state-item-name">文章</span>
          </a>
        </div>

        <div class="site-state-item site-state-categories">
          
            <span class="site-state-item-count">0</span>
            <span class="site-state-item-name">分類</span>
          
        </div>

        <div class="site-state-item site-state-tags">
          <a href="/tags">
            <span class="site-state-item-count">16</span>
            <span class="site-state-item-name">標籤</span>
          </a>
        </div>

      </div>

      

      <div class="links-of-author motion-element">
        
      </div>

      
      

    </div>

    

  </div>
</div>


      </div>
    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; &nbsp; 
  2015
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author">ZhengKai</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 強力驅動
</div>

<div class="theme-info">
  主題 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      $('.content img').each(function () {
        var $image = $(this);
        var $imageWrapLink = $image.parent('a');

        if ($imageWrapLink.size() < 1) {
          $imageWrapLink = $image.wrap('<a href="' + this.getAttribute('src') + '"></a>').parent('a');
        }
        $imageWrapLink.addClass('fancybox');
      });
    });
    $('.fancybox').fancybox({
      helpers: {
        overlay: {
          locked: false
        }
      }
    });
  </script>


  <script type="text/javascript">
  function hasMobileUA () {
    var nav = window.navigator;
    var ua = nav.userAgent;
    var pa = /iPad|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian/g;

    return pa.test(ua);
  }

  function isDesktop () {
    return screen.width > 991 && !hasMobileUA();
  }

  function isTablet () {
    return screen.width < 992 && screen.width > 767 && hasMobileUA();
  }

  function isMobile () {
    return screen.width < 767 && hasMobileUA();
  }

  function escapeSelector (selector) {
    return selector.replace(/[!"$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g, "\\$&")
  }
</script>

  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" id="motion.global">
  $(document).ready(function () {
    var body = $('body');
    var isSidebarVisible = false;
    var sidebarToggle = $('.sidebar-toggle');
    var sidebarToggleLine1st = $('.sidebar-toggle-line-first')
    var sidebarToggleLine2nd = $('.sidebar-toggle-line-middle');
    var sidebarToggleLine3rd = $('.sidebar-toggle-line-last');
    var sidebar = $('.sidebar');

    var SIDEBAR_WIDTH = '320px';
    var SIDEBAR_DISPLAY_DURATION = 300;

    var sidebarToogleLineStatusInit = {width: '100%', opacity: 1, left: 0, rotateZ: 0, top: 0};

    var sidebarToggleLine1stStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine1stStatusArrow = {width: '50%', rotateZ: '-45deg', top: '2px'};
    var sidebarToogleLine1stStatusClose = {width: '100%', rotateZ: '-45deg', top: '5px'};

    var sidebarToggleLine2ndStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine2ndStatusArrow = {width: '90%'};
    var sidebarToogleLine2ndStatusClose = {opacity: 0};

    var sidebarToggleLine3rdStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine3rdStatusArrow = {width: '50%', rotateZ: '45deg', top: '-2px'};
    var sidebarToogleLine3rdStatusClose = {width: '100%', rotateZ: '45deg', top: '-5px'};

    LogoAndMenuMotion();
    sidebatToggleMotion();
    postsListMotion();
    backToTopMotion();


    $(document)
      .on('sidebar.isShowing', function () {
        isDesktop() && body.velocity(
          {paddingRight: SIDEBAR_WIDTH},
          SIDEBAR_DISPLAY_DURATION
        );
        sidebarContentMotion();
      })
      .on('sidebar.isHiding', function () {});

    function LogoAndMenuMotion() {
      $.Velocity.RunSequence([
        { e: $('.brand'), p: { opacity: 1 }, o: { duration: 100 } },
        { e: $('.logo'), p: { opacity: 1, top: 0 }, o: { duration: 50} },
        
        { e: $('.logo-line-before i'), p: { translateX: "100%" }, o: { duration: 500, sequenceQueue: false } },
        { e: $('.logo-line-after i'), p: { translateX: "-100%" }, o: { duration: 500, sequenceQueue: false } },
        
        { e: $('.site-title'), p: { opacity: 1, top: 0 }, o: { duration: 200 } }
      ]);
      $('.menu-item').velocity('transition.slideDownIn', {display: null});
    }


    function backToTopMotion () {
      var b2top = $('.back-to-top');
      b2top.on('click', function () {
        body.velocity('scroll');
      });
    }

    function sidebarShowMotion () {

      sidebarToggleLine1st.velocity(sidebarToogleLine1stStatusClose);
      sidebarToggleLine2nd.velocity(sidebarToogleLine2ndStatusClose);
      sidebarToggleLine3rd.velocity(sidebarToogleLine3rdStatusClose);

      sidebar.velocity({width: SIDEBAR_WIDTH}, {
        display: 'block',
        duration: SIDEBAR_DISPLAY_DURATION,
        complete: function () {
          sidebar.addClass('sidebar-active');
          sidebar.trigger('sidebar.didShow');
        }
      });
      sidebar.trigger('sidebar.isShowing');
    }

    function sidebarHideMotion () {
      isDesktop() && body.velocity({paddingRight: 0});
      sidebar.velocity('reverse');

      sidebarToggleLine1st.velocity(sidebarToggleLine1stStatusInit);
      sidebarToggleLine2nd.velocity(sidebarToggleLine2ndStatusInit);
      sidebarToggleLine3rd.velocity(sidebarToggleLine3rdStatusInit);

      sidebar.removeClass('sidebar-active');
      sidebar.trigger('sidebar.isHiding');
    };

    function sidebarContentMotion () {
      $('.sidebar .motion-element').velocity(
        'transition.slideRightIn',
        {stagger: 50, drag: true}
      );
    }

    function postsListMotion () {
      var postMotionOptions = window.postMotionOptions || {stagger: 300, drag: true};
      $('.post').velocity('transition.slideDownIn', postMotionOptions);
    }

    function sidebatToggleMotion () {
      sidebarToggle.on('click', function () {
        isSidebarVisible ? sidebarHideMotion() : sidebarShowMotion();
        isSidebarVisible = !isSidebarVisible;
      });

      sidebarToggle.hover(function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusArrow);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusArrow);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusArrow);
      }, function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusInit);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusInit);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusInit);
      });
    }
  });

</script>





  

  

  
  

  


  
</body>
</html>
