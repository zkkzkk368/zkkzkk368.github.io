<html>
<head>
  <title>chap5首次登录与在线求助man page</title>
  <basefont face="微软雅黑" size="2">
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <meta name="exporter-version" content="Evernote Windows/274507; Windows/6.3.9600;">
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="292">
<h1>chap5首次登录与在线求助man page</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><ul><li>通常Linux主机都要加挂一个不断电系统</li><li>CentOS5.x和Ubuntu的图形界面默认采用GNOME，CentOS也可以使用KDE</li><li style="list-style: none; display: inline"><ul><li>GNOME</li><li style="list-style: none; display: inline"><ul><li>窗口组成</li><li style="list-style: none; display: inline"><ul><li>控制面板（control panel）</li><li>桌面（四个桌面）</li><li>下方任务栏</li></ul></li><li>资源管理器（鹦鹉螺，Nautilus）</li></ul></li><li>KDE</li><li style="list-style: none; display: inline"><ul><li>资源管理器（征服家，Konqueror）</li></ul></li></ul></li><li>每个用户都有自己的“工作目录”，用户可以完全掌控，称为“用户个人主文件夹”，一般位于/home下，如用户zk的主文件夹为/home/zk/</li><li>YUM：是基于RPM包管理的Shell前段软件包管理器（<u>http://baike.baidu.com/link?url=NOBSLzGVglB0f_6bcaW8gGc1rju-WdupwYchdln7kcCLk3fH2edvswPaos9N7lbJ6lLEh6glc0DybxIm874tTK</u>）</li><li>Linux的隐藏文件的文件名以小数点（.）为前缀</li><li>重启X Window的快速按钮</li><li style="list-style: none; display: inline"><ul><li>手动修改X Window的配置文件后需要重启X Window才能重新加载设置选项</li><li>直接注销重新登录即可，不需要重启系统</li><li>也可以直接按下[Alt] + [Ctrl] + [Backspace]重启X Window</li></ul></li><li>X Window与命令行模式的切换</li><li style="list-style: none; display: inline"><ul><li>Linux默认提供六个Terminal来让用户登录使用，分别命名为tty1~tty6，用[Ctrl] + [Alt] + [F1] ~ [F6]来切换</li><li>使用[Ctrl] + [Alt] + [F7]可以切换到图形界面桌面</li><li>Linux默认登录模式有两种</li><li style="list-style: none; display: inline"><ul><li>纯文本界面（run level 3）：只有tty1~tty6的终端界面，而没有图形窗口界面的环境</li><li style="list-style: none; display: inline"><ul><li>但是在满足以下条件下，可以在tty1~tty6下使用startx命令启动X Window图形界面</li><li style="list-style: none; display: inline"><ul><li>tty7没有其他窗口软件正在运动</li><li>X Window系统必须已经安装，X Server也要能顺利启动</li><li>最好有GNOME、KDE等窗口管理员</li><li>启动X窗口所必要的服务如字型服务器（X Font Server，XFS）等必须先要启动</li></ul></li></ul></li><li>图形界面（run level 5）：有tty1~tty7的界面</li><li>如果想要Linux在你下次开机时使用纯文本环境登录，只要修订一下/etc/inittab这个文件的内容，重启后即可生效</li></ul></li></ul></li><li>终端界面下</li><li style="list-style: none; display: inline"><ul><li>提示符#表示root用户，$表示一般用户</li><li>提示符左侧方括号内的~表示“当前所在目录”</li></ul></li><li>注销linux：exit指令</li><li>命令行模式登录后取得的程序称为shell，负责最外层的跟用户通信的工作</li><li>命令格式：    $ command [-options] parameter1 parameter2 ....</li><li style="list-style: none; display: inline"><ul><li>$：一般用户提示符</li><li>command：可以是命令也可以是可执行文件</li><li style="list-style: none; display: inline"><ul><li>第一个被输入的数据绝对是命令或者是可执行文件</li></ul></li><li>-options：通常以-和--为前缀</li><li style="list-style: none; display: inline"><ul><li>-为使用参数缩写名，如-h</li><li>--为使用参数全名，如-help</li></ul></li><li>parameter：为command或者options的参数</li><li>command, -options, parameter之间必须有空格区分，空几格都行！</li><li style="list-style: none; display: inline"><ul><li>空格不能随便用</li></ul></li><li>按下[Enter]后命令就立即被执行</li><li>如果命令太长，可以使用反斜杠（\）来转义[Enter]，使命令连续到下一行</li><li style="list-style: none; display: inline"><ul><li>反斜杠后必须紧接特殊字符，才能起到转义的作用</li></ul></li><li>Linux系统中，大小写字母是有区分的</li></ul></li><li>语言支援</li><li style="list-style: none; display: inline"><ul><li>显示目前语言：echo $LANG</li><li>修改语言：LANG=......</li><li style="list-style: none; display: inline"><ul><li>如：LANG=en_US表示将语言修改为英文语系</li><li>注意！！！等号两边不能有空格</li></ul></li></ul></li><li>基础命令及其使用（日期时间、日历、简易计算器）</li><li style="list-style: none; display: inline"><ul><li>显示日期、时间：date</li><li>显示日历：cal</li><li style="list-style: none; display: inline"><ul><li>基本语法：cal [[month] year]</li></ul></li><li>简易计算器：bc</li><li style="list-style: none; display: inline"><ul><li>支持的运算：加、减、乘、除、指数、取余（+、-、*、/、^、%）</li><li>bc默认输出整数，若要输出小数，应执行以下命令</li><li style="list-style: none; display: inline"><ul><li>scale=number</li><li>number为小数点后的位数</li><li>如scale=3表示输出小数点后三位</li></ul></li><li>退出：quit</li></ul></li><li>某些命令存在特殊参数，若输入错误，则命令会有错误信息的提示</li><li>命令行模式下有两种情况</li><li style="list-style: none; display: inline"><ul><li>命令直接显示结果后回到命令提示符等待下一个命令的输入</li><li>进入到命令的环境中，直到结束该命令才回到命令指示符的环境，如bc</li></ul></li></ul></li><li>重要热键</li><li style="list-style: none; display: inline"><ul><li>[Tab]</li><li style="list-style: none; display: inline"><ul><li>命令补全、文件补全</li><li>在命令行模式下直接敲击两次[Tab]可以显示所用命令</li></ul></li><li>[Ctrl] + c</li><li style="list-style: none; display: inline"><ul><li>中断目前程序</li><li>但是如果正在执行重要的命令，不要轻易中断</li></ul></li><li>[Ctrl] + d</li><li style="list-style: none; display: inline"><ul><li>键盘输入结束（End Of File, EOF或End Of Input）</li><li>也可以代替exit的输入</li></ul></li></ul></li><li>Linux的默认Shell是Bash</li><li>错误信息</li><li style="list-style: none; display: inline"><ul><li>command not found</li><li style="list-style: none; display: inline"><ul><li>可能是软件没有安装</li><li>可能是所在目录目前的用户没有将它加入命令搜索路径</li><li>也可能是命令输入错误（比如大小写）</li></ul></li><li>提示详细错误</li><li style="list-style: none; display: inline"><ul><li>如输入的参数不符合规定</li></ul></li></ul></li><li>man page</li><li style="list-style: none; display: inline"><ul><li>man是manual（操作说明）的简写</li><li>查询所得的命令或文件名后方括号内的数字1~9为命令或可执行文件类型的代号</li><li style="list-style: none; display: inline"><ul><li>1#：用户在shell环境中可以操作的命令或可执行文件</li><li>2  ：系统内核可调用的函数与工具等</li><li>3  ：一些常用的函数（function）与函数库（library），大部分为C的函数库（libc）</li><li>4  ：设备文件的说明，通常在/dev下的文件</li><li>5#：配置文件或者是某些文件的格式</li><li>6  ：游戏</li><li>7  ：惯例与协议等</li><li>8#：系统管理员可用的管理命令</li><li>9  ：跟kernel有关的文件</li></ul></li><li>man page内容包括以下部分</li><li style="list-style: none; display: inline"><ul><li>NAME：简短的命令、数据名称说明</li><li>SYNOPSIS：简短的命令执行语法（syntax）简介</li><li>DESCRIPTION#：较为完整的说明，这部分需要仔细看！</li><li>OPTIONS：针对SYNOPSIS部分中，有列举的所有可用选项说明</li><li>COMMANDS：当这个程序或软件在执行时，可以在此程序或软件中使用的命令</li><li>FILES：这个程序或数据所使用或参考或连接到的某些文件</li><li>SEE ALSO：这个命令或数据有关的其他说明</li><li>EXAMPLE：一些可以参考的范例</li><li>BUGS：是否有相关错误</li><li>AUTHORS：作者</li><li>COPYRIGHT：受到著作版权的保护，即GPL</li></ul></li><li>man page界面下可用按键</li><li style="list-style: none; display: inline"><ul><li>空格键：向下翻页</li><li>[Page Down]：向下翻页</li><li>[Page Up]：向上翻页</li><li>[Home]：回到首页</li><li>[End]：前往最后一页</li><li>/string：向下查询string字符串</li><li>?string：向上查询string字符串</li><li style="list-style: none; display: inline"><ul><li>按下/或?后光标会自动移到屏幕最后一行，等待你输入查找的字符串</li></ul></li></ul><ul><li>n：向下（\string）或向上（?string）继续下一个查询</li><li>N：向下（\string）或向上（?string）进行下一个反向查询</li><li>q：结束退出本次man page</li></ul></li><li>-options</li><li style="list-style: none; display: inline"><ul><li>man -f ....：只有命令或文件的完整名完全相符的才显示出来</li><li style="list-style: none; display: inline"><ul><li>等价于whatis .....</li></ul></li><li>man -k ....：只要说明文字中出现该关键词的命令或文件都列举出来</li><li style="list-style: none; display: inline"><ul><li>等价于apropos .....</li></ul></li><li>但是，whatis和apropos命令，必须要创建whatis数据库才能使用</li><li style="list-style: none; display: inline"><ul><li>用root身份执行makewhatis命令即可</li></ul></li></ul></li></ul></li><li>info page</li><li style="list-style: none; display: inline"><ul><li>与man page类型，但它将文件数据拆成若干段落，每个段落用独立的页面撰写，各个页面中有类似网页的“超链接”跳转到各个不同的页面中，每一个独立的页面称为“节点”</li><li>但是，所查询的目标数据的说明文件必须以info的格式来写才能使用info的特殊功能，否则将以man page的形式呈现</li><li>支持info命令的文件默认是放在/usr/share/info/目录下</li><li>页面头部分为以下几个部分：</li><li style="list-style: none; display: inline"><ul><li>File：表示该info page页面的数据的源文件（为.info格式的文件）</li><li>Node：表示目前显示的页面属于哪个节点</li><li>Next：下一个节点的名称</li><li>Up：上一层的名称</li><li>Prev：前一个节点名称</li></ul></li><li>页面尾部有菜单Menu</li><li style="list-style: none; display: inline"><ul><li>每一行为各节点的标题和简要说明</li><li>通过方向按键把光标移向每一行的*上或者字母上，按下[Enter]即可跳转到该小节</li><li>按下[Tab]即可让光标在节点的标题中快速移动</li></ul></li><li>相关按键</li><li style="list-style: none; display: inline"><ul><li>空格键：向下翻页</li><li>[Page Down]：向下翻页</li><li>[Page Up]：向上翻页</li><li>[Tab]：在节点选项之间移动</li><li>[Enter]：当光标在节点选项时，按下可进入该节点</li><li>B：移动光标到该info界面中的第一个节点处</li><li>E：移动光标到该info界面中的最后一个节点处</li><li>N：前往下一个节点</li><li>P：前往上一个节点</li><li>U：返回上一层</li><li>S（/）：在info page中查询</li><li>H：显示求助菜单</li><li>?：命令一览表</li><li>Q：结束本次info page</li></ul></li><li>info page是Linux上特有的产物</li></ul></li><li>其他有用的查询文件（documents）</li><li style="list-style: none; display: inline"><ul><li>一般位于/usr/share/doc/目录下</li></ul></li><li>简易文本编辑器：nano</li><li style="list-style: none; display: inline"><ul><li>打开或创建新文件：nano xxxxx.txt</li><li style="list-style: none; display: inline"><ul><li>若文件存在，则打开</li><li>若文件不存在，则新建</li></ul></li><li>程序下方有快捷键一览表（其中“^”表示“[Ctrl]+”，“M-”表示“[Alt] +”）</li><li style="list-style: none; display: inline"><ul><li>[Ctrl] + G：取得在线帮助（help）</li><li>[Ctrl] + X：退出，若文件修改过则提示是否保存</li><li>[Ctrl] + O：保存文件</li><li>[Ctrl] + R：从其他文件读入数据，贴在本文件中，相当于C语言的#include</li><li>[Ctrl] + W：查询字符串</li><li>[Ctrl] + C：显示当前光标所在处的行数和列数</li><li>[Ctrl] + _：输入行数后光标跳转到对应的行</li><li>[Ctrl] + Y：矫正语法开关</li><li>[Ctrl] + M：启动鼠标来移动光标的功能</li></ul></li></ul></li><li>正确关机</li><li style="list-style: none; display: inline"><ul><li>在Windows中，由于是单用户、“假多”任务情况，所以即使计算机关闭，对别人也不会有影响</li><li>但在Linux中，由于每个程序和服务都在后台进行，所以你看不到其他人在你的主机上工作，若此时按下关机，其他人的数据可以就此中断</li><li>而且，若不正常关机，可能会造成文件系统的毁损</li><li>所以关机前需要关注一下几件事情</li><li style="list-style: none; display: inline"><ul><li>查看系统的使用状态</li><li style="list-style: none; display: inline"><ul><li>使用who命令，查看目前有谁在线</li><li>使用netstat -a命令，查看网络连接状态</li><li>使用ps -aux命令，查看后台执行的程序</li></ul></li><li>通知在线用户关机的时刻</li><li style="list-style: none; display: inline"><ul><li>shutdown命令</li></ul></li></ul></li><li>数据同步写入磁盘：sync命令</li><li style="list-style: none; display: inline"><ul><li>将当前内存的数据写入磁盘中</li><li>目前的shutdown / reboot / halt 等命令在关机前会自动调用sync</li><li>sync被一般账号用户调用，则只能写入自己的数据；如果被root调用，则可以写入整个系统的数据</li></ul></li><li>惯用的关机指令：shutdown</li><li style="list-style: none; display: inline"><ul><li>除非以图形界面登录系统，否则只有root用户能够关机</li><li>基本语法：shutdown [-t 秒] [-arkhncfF] 时间 [警告消息]</li><li style="list-style: none; display: inline"><ul><li>-t：后接秒数，表示“过几秒钟后关机”</li><li>-k：不关机，只是发送警告消息出去</li><li>-r：（常用）先停掉系统服务，再重启</li><li>-h：（常用）先停掉系统服务，再关机</li><li>-n：不经过init程序，直接关机</li><li>-f：重启并且强制跳过fsck的磁盘检查</li><li>-F：重启并且强制执行fsck的磁盘检查</li><li>-c：取消正在进行的shutdown命令</li><li>时间：必须添加的参数！！！否则shutdown会自动跳到run level 1（即单用户维护），指定系统的关机时间，输入格式如下：</li><li style="list-style: none; display: inline"><ul><li>now（相当于0），即立即执行</li><li>指定时间，如20:25表示在下一个20:25执行</li><li>指定分钟数，如+10表示10分钟后执行</li></ul></li></ul></li></ul></li><li>重启、关机：reboot, halt, poweroff</li><li style="list-style: none; display: inline"><ul><li>reboot：重启</li><li>poweroff：等价于sync; sync; sync; reboot</li><li>halt：关机</li><li style="list-style: none; display: inline"><ul><li>默认情况下与shutdown等价，因为halt会先调用shutdown，shutdown最后又会调用halt</li><li>但是，shutdown可以依据目前已启动的服务来依次关闭各服务后才关机</li><li>而halt却能够在不理会目前系统状况下强行硬件关机</li></ul></li></ul></li><li>切换执行等级：init</li><li style="list-style: none; display: inline"><ul><li>基本语法：init （等级数），如init 1</li><li>常见等级</li><li style="list-style: none; display: inline"><ul><li>run level 0：关机</li><li style="list-style: none; display: inline"><ul><li>等价于shutdown -h now和poweroff</li></ul></li><li>run level 3：纯命令行模式</li><li>run level 5：含有图形界面模式</li><li>run level 6：重启</li></ul></li></ul></li><li>开机过程的问题排解</li><li style="list-style: none; display: inline"><ul><li>文件系统错误</li><li style="list-style: none; display: inline"><ul><li>如果根目录没有损坏</li><li style="list-style: none; display: inline"><ul><li>开机时屏幕会提示“press root password or ctrl + D”</li><li>输入root密码，进行单用户维护</li><li>输入fsck /dev/sda7进行文件系统检查（假设错误分区为/dev/sda7），如果发现错误，则会提示“clear [Y/N]”的询问，输入Y修复后重启即可</li></ul></li><li>如果根目录损坏</li><li style="list-style: none; display: inline"><ul><li>把硬盘挂在另一台Linux电脑上，但不要挂载</li><li>以root用户执行fsck /dev/sdb1（假设根目录在/dev/sdb1）</li><li>####另外，可以直接在本电脑上进入live CD进行修复####</li></ul></li><li>如果整个硬盘坏掉</li><li style="list-style: none; display: inline"><ul><li>移出数据，更换硬盘</li><li>为了预防，平时应妥善保养硬盘，划分不同分区（Linux不同目录的读写频率不同，损坏的可能性也就不同）</li></ul></li></ul></li><li>忘记root密码（以grub引导装载程序为例）</li><li style="list-style: none; display: inline"><ul><li>系统重启，在读秒时按下任意键，出现菜单界面</li><li>按下e进入grub的编辑模式</li><li>将光标移动到kernel那一行，按下e进入kernel的编辑界面</li><li>输入single并按下[Enter]确定后，再按下b即可开机进入单用户维护模式</li><li style="list-style: none; display: inline"><ul><li>在此模式下，我们可以在tty1处不需要输入密码即可取得终端控制权（root身份）</li></ul></li><li>使用passwd命令修改root密码即可</li></ul></li></ul></li></ul></li><li><br></li></ul></div>
</div></a></body></html>\00
